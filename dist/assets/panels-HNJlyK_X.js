import{a as e,u as t}from"./stores-D-2ZrdBw.js";import{T as a,W as s,S as r,M as n,a as l,P as i}from"./visualizations-BgLsdJQH.js";import{d as o,r as c,c as d,a as u,b as h,w as m,e as p,f as g,g as v,t as f,F as y,h as b,i as k,j as _,k as S,l as w,m as x,p as C,q as P,s as M}from"./vue-vendor-DKeBeTOX.js";import{S as z,B as E,L as D,E as O,a as A,R as F}from"./ui-components-BBmjzzY0.js";import{u as L}from"./composables-DOD5TLdC.js";const R=(e,t)=>{const a=e.__vccOpts||e;for(const[s,r]of t)a[s]=r;return a},B={class:"space-y-6"},V={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},G={class:"card"},T={class:"card-body"},W={class:"flex items-center"},j={class:"ml-4"},I={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},N={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},q={class:"text-sm text-gray-500 dark:text-gray-400"},K={class:"card"},U={class:"card-body"},H={class:"flex items-center"},Z={class:"ml-4"},$={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},Y={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},Q={class:"text-sm text-gray-500 dark:text-gray-400"},J={class:"card"},X={class:"card-body"},ee={class:"flex items-center"},te={class:"ml-4"},ae={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},se={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},re={class:"text-sm text-gray-500 dark:text-gray-400"},ne={key:0,class:"card"},le={class:"card-header"},ie={class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},oe={class:"card-body"},ce={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},de={class:"text-center"},ue={class:"text-xl font-bold text-primary-600 dark:text-primary-400"},he={class:"text-xs text-gray-500 dark:text-gray-400"},me={class:"text-center"},pe={class:"text-xl font-bold text-secondary-600 dark:text-secondary-400"},ge={class:"text-center"},ve={class:"text-xl font-bold text-success-600 dark:text-success-400"},fe={class:"text-center"},ye={class:"text-xl font-bold text-gray-600 dark:text-gray-400"},be={class:"card"},ke={class:"card-header"},_e={class:"flex space-x-2"},Se=["onClick"],we={class:"card-body"},xe={key:0,class:"h-[600px] w-full relative"},Ce={key:1,class:"h-96 p-4"},Pe={key:2,class:"p-4 overflow-hidden"},Me={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-full"},ze={class:"bg-gray-50 dark:bg-gray-900 rounded-lg overflow-hidden min-h-[700px] flex flex-col"},Ee={class:"flex-1 w-full"},De={class:"bg-gray-50 dark:bg-gray-900 rounded-lg overflow-hidden min-h-[700px] flex flex-col"},Oe={class:"flex-1 w-full"},Ae={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 overflow-hidden"},Fe={class:"space-y-2 max-h-96 overflow-y-auto"},Le={class:"flex items-center space-x-3"},Re={class:"w-6 h-6 bg-primary-100 dark:bg-primary-900/20 rounded-full flex items-center justify-center text-xs font-medium text-primary-600 dark:text-primary-400"},Be={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ve={class:"text-sm text-gray-600 dark:text-gray-400"},Ge={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 overflow-hidden"},Te={class:"space-y-3"},We={class:"flex justify-between"},je={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ie={class:"flex justify-between"},Ne={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},qe={class:"flex justify-between"},Ke={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ue={class:"flex justify-between"},He={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ze={class:"card"},$e={class:"card-body"},Ye={class:"grid grid-cols-2 md:grid-cols-4 gap-4"};const Qe=R(o({__name:"DashboardPanel",setup(r,{expose:n}){n();const l=e(),i=t(),o=c("world-map"),p=c(!1),g=c(400),v=()=>{const e=i.selectedProduct,t=i.selectedYear,a=i.selectedMetric;if(!!l.timeseriesData&&l.timeseriesData[e]){const s="production"===a?"production":"import_quantity"===a?"imports":"export_quantity"===a?"exports":"domestic_supply",r=l.timeseriesData[e];return Object.entries(r).map(([e,a])=>{const r=a.find(e=>e.year===t);return{country:e,value:r&&r[s]||0,unit:(null==r?void 0:r.unit)||"t",year:t}}).filter(e=>e.value>0)}const s=l.getProductionData(e,t);return s?Array.isArray(s)?s:s.data&&Array.isArray(s.data)?s.data:"object"==typeof s?Object.entries(s).map(([e,a])=>({country:e,value:a.value||0,unit:a.unit||"t",year:a.year||t})):[]:[]},f=d(()=>{if(!i.selectedCountry||!i.selectedProduct||!i.selectedYear)return null;return v().find(e=>e.country===i.selectedCountry)}),y=d(()=>{if(!i.selectedCountry)return"N/A";const e=v().filter(e=>e.value>0).sort((e,t)=>t.value-e.value).findIndex(e=>e.country===i.selectedCountry);return e>=0?e+1:"N/A"}),b=d(()=>{const e=v(),t=["World","Africa","Americas","Asia","Europe","Oceania","Northern America","South America","Central America","Caribbean","Northern Africa","Eastern Africa","Middle Africa","Southern Africa","Western Africa","Eastern Asia","South-eastern Asia","Southern Asia","Western Asia","Central Asia","Eastern Europe","Northern Europe","Southern Europe","Western Europe","Australia and New Zealand","Melanesia","European Union (27)","Small Island Developing States","Least Developed Countries","Land Locked Developing Countries","Low Income Food Deficit Countries","Net Food Importing Developing Countries"];return e.filter(e=>e.value>0&&e.country&&!t.includes(e.country)&&!e.country.toLowerCase().includes("total")).sort((e,t)=>t.value-e.value).slice(0,10)}),k=d(()=>{const e=i.selectedProduct,t=i.selectedYear,a=i.selectedMetric,s=!!l.timeseriesData;if(!e||!t)return{total:0,countries:0,topProducer:null,unit:"t"};let r=null,n=[];if(s&&l.timeseriesData[e]){const s="production"===a?"production":"import_quantity"===a?"imports":"export_quantity"===a?"exports":"domestic_supply",r=l.timeseriesData[e];n=Object.entries(r).map(([e,a])=>{const r=a.find(e=>e.year===t);return{country:e,value:r&&r[s]||0,unit:(null==r?void 0:r.unit)||"t",year:t}}).filter(e=>e.value>0)}else r=l.getProductionData(e,t);if(!r&&0===n.length)return{total:0,countries:0,topProducer:null,unit:"t"};r&&0===n.length&&(Array.isArray(r)?n=r:r.data&&Array.isArray(r.data)?n=r.data:"object"==typeof r&&(n=Object.entries(r).map(([e,a])=>({country:e,value:a.value||0,unit:a.unit||"t",year:a.year||t}))));const o=n.filter(e=>e&&e.value>0),c=o.reduce((e,t)=>e+(t.value||0),0);o.length;const d=["World","Africa","Americas","Asia","Europe","Oceania","Northern America","South America","Central America","Caribbean","Northern Africa","Eastern Africa","Middle Africa","Southern Africa","Western Africa","Eastern Asia","South-eastern Asia","Southern Asia","Western Asia","Central Asia","Eastern Europe","Northern Europe","Southern Europe","Western Europe","Australia and New Zealand","Melanesia","European Union (27)","Small Island Developing States","Least Developed Countries","Land Locked Developing Countries","Low Income Food Deficit Countries","Net Food Importing Developing Countries"],u=o.filter(e=>e.country&&!d.includes(e.country)&&!e.country.toLowerCase().includes("total")),h=u.length>0?u.reduce((e,t)=>(t.value||0)>((null==e?void 0:e.value)||0)?t:e,null):null;return{total:c,countries:u.length,topProducer:null==h?void 0:h.country,unit:(null==h?void 0:h.unit)||"t"}});u(async()=>{l.hasData||await l.initializeApp();try{await l.loadProductionData(i.selectedProduct,i.selectedYear)}catch(t){}const e=()=>{g.value=Math.min(400,Math.max(300,.4*window.innerWidth))};e(),window.addEventListener("resize",e),_=e});let _=null;h(()=>{_&&window.removeEventListener("resize",_)}),m([()=>i.selectedProduct,()=>i.selectedYear],async([e,t])=>{if(e&&t)try{await l.loadProductionData(e,t)}catch(a){}});const S={dataStore:l,uiStore:i,selectedVisualization:o,dashboardLoading:p,containerWidth:g,visualizationOptions:[{value:"world-map",label:"Weltkarte",icon:"globe"},{value:"timeseries",label:"Zeitreihen",icon:"chart"},{value:"overview",label:"√úbersicht",icon:"grid"}],getCountriesArray:v,selectedCountryData:f,countryRank:y,topCountries:b,globalStats:k,onCountryClick:e=>{var t;const a=l.getProductionData(i.selectedProduct,i.selectedYear),s=null==(t=null==a?void 0:a.data)?void 0:t.find(t=>t.countryCode===e);s&&(i.setSelectedCountry(s.country),i.addNotification({type:"info",title:"Land ausgew√§hlt",message:`${s.country} wurde ausgew√§hlt`}))},get resizeHandler(){return _},set resizeHandler(e){_=e},WorldMap:s,TimeseriesChart:a};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),[["render",function(e,t,a,s,r,n){var l,i,o,c,d,u,h;const m=S("router-link");return w(),p("div",B,[g("div",V,[g("div",G,[g("div",T,[g("div",W,[t[4]||(t[4]=g("div",{class:"flex-shrink-0"},[g("div",{class:"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-lg flex items-center justify-center"},[g("svg",{class:"w-6 h-6 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),g("div",j,[g("h3",I,f("production"===s.uiStore.selectedMetric?"Gesamtproduktion":"import_quantity"===s.uiStore.selectedMetric?"Gesamtimport":"export_quantity"===s.uiStore.selectedMetric?"Gesamtexport":"Inlandsversorgung")+" "+f(s.uiStore.selectedYear||(new Date).getFullYear()),1),g("p",N,f(((null==(l=s.globalStats)?void 0:l.total)||0).toLocaleString("de-DE")),1),g("p",q,f(s.globalStats.unit)+" - "+f((null==(i=s.uiStore.selectedProduct)?void 0:i.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))||"Alle Produkte"),1)])])])]),g("div",K,[g("div",U,[g("div",H,[t[5]||(t[5]=g("div",{class:"flex-shrink-0"},[g("div",{class:"w-12 h-12 bg-secondary-100 dark:bg-secondary-900/20 rounded-lg flex items-center justify-center"},[g("svg",{class:"w-6 h-6 text-secondary-600 dark:text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),g("div",Z,[g("h3",$,f("production"===s.uiStore.selectedMetric?"Produzierende L√§nder":"import_quantity"===s.uiStore.selectedMetric?"Importierende L√§nder":"export_quantity"===s.uiStore.selectedMetric?"Exportierende L√§nder":"L√§nder mit Daten"),1),g("p",Y,f((null==(o=s.globalStats)?void 0:o.countries)||0),1),g("p",Q," mit "+f("production"===s.uiStore.selectedMetric?"Produktionsdaten":"import_quantity"===s.uiStore.selectedMetric?"Importdaten":"export_quantity"===s.uiStore.selectedMetric?"Exportdaten":"Versorgungsdaten"),1)])])])]),g("div",J,[g("div",X,[g("div",ee,[t[6]||(t[6]=g("div",{class:"flex-shrink-0"},[g("div",{class:"w-12 h-12 bg-success-100 dark:bg-success-900/20 rounded-lg flex items-center justify-center"},[g("svg",{class:"w-6 h-6 text-success-600 dark:text-success-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])])],-1)),g("div",te,[g("h3",ae,f("production"===s.uiStore.selectedMetric?"Gr√∂√üter Produzent":"import_quantity"===s.uiStore.selectedMetric?"Gr√∂√üter Importeur":"export_quantity"===s.uiStore.selectedMetric?"Gr√∂√üter Exporteur":"Gr√∂√üter Verbraucher"),1),g("p",se,f(s.globalStats.topProducer||"N/A"),1),g("p",re,f(s.uiStore.selectedYear),1)])])])])]),s.selectedCountryData?(w(),p("div",ne,[g("div",le,[g("h3",ie,f(s.uiStore.selectedCountry)+" - Detailansicht ",1),g("button",{onClick:t[0]||(t[0]=e=>s.uiStore.setSelectedCountry("")),class:"btn btn-ghost btn-sm"},t[7]||(t[7]=[g("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),g("div",oe,[g("div",ce,[g("div",de,[t[8]||(t[8]=g("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Produktion",-1)),g("p",ue,f(s.selectedCountryData.value.toLocaleString("de-DE")),1),g("p",he,f(s.selectedCountryData.unit||"Tonnen"),1)]),g("div",me,[t[9]||(t[9]=g("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Weltanteil",-1)),g("p",pe,f(s.globalStats.total>0&&s.selectedCountryData?(s.selectedCountryData.value/s.globalStats.total*100).toFixed(1):"0")+"% ",1),t[10]||(t[10]=g("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," der Weltproduktion ",-1))]),g("div",ge,[t[11]||(t[11]=g("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Rang",-1)),g("p",ve," #"+f(s.countryRank),1),t[12]||(t[12]=g("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," weltweit ",-1))]),g("div",fe,[t[13]||(t[13]=g("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Jahr",-1)),g("p",ye,f(s.uiStore.selectedYear),1),t[14]||(t[14]=g("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Datenjahr ",-1))])])])])):v("",!0),g("div",be,[g("div",ke,[t[15]||(t[15]=g("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Hauptvisualisierung ",-1)),g("div",_e,[(w(),p(y,null,b(s.visualizationOptions,e=>g("button",{key:e.value,onClick:t=>s.selectedVisualization=e.value,class:x(["btn btn-sm transition-colors duration-200",s.selectedVisualization===e.value?"bg-primary-600 text-white border-primary-600 hover:bg-primary-700":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"])},f(e.label),11,Se)),64))])]),g("div",we,["world-map"===s.selectedVisualization?(w(),p("div",xe,[k(s.WorldMap,{"selected-product":s.uiStore.selectedProduct,"selected-year":s.uiStore.selectedYear,"selected-metric":s.uiStore.selectedMetric,onCountryClick:s.onCountryClick,onCountryHover:t[1]||(t[1]=e=>{})},null,8,["selected-product","selected-year","selected-metric"])])):"timeseries"===s.selectedVisualization?(w(),p("div",Ce,[k(s.TimeseriesChart,{"selected-country":s.uiStore.selectedCountry,"selected-product":s.uiStore.selectedProduct,"selected-metric":s.uiStore.selectedMetric,onPointHover:t[2]||(t[2]=e=>{}),onPointClick:t[3]||(t[3]=e=>{})},null,8,["selected-country","selected-product","selected-metric"])])):"overview"===s.selectedVisualization?(w(),p("div",Pe,[g("div",Me,[g("div",ze,[t[16]||(t[16]=g("div",{class:"px-4 pt-4 pb-2 flex-shrink-0"},[g("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Weltweite Verteilung ")],-1)),g("div",Ee,[k(s.WorldMap,{width:s.containerWidth,height:600,"selected-product":s.uiStore.selectedProduct,"selected-year":s.uiStore.selectedYear,"selected-metric":s.uiStore.selectedMetric,onCountryClick:s.onCountryClick},null,8,["width","selected-product","selected-year","selected-metric"])])]),g("div",De,[t[17]||(t[17]=g("div",{class:"px-4 pt-4 pb-2 flex-shrink-0"},[g("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Zeitliche Entwicklung ")],-1)),g("div",Oe,[k(s.TimeseriesChart,{width:s.containerWidth,height:600,"selected-country":s.uiStore.selectedCountry,"selected-product":s.uiStore.selectedProduct,"selected-metric":s.uiStore.selectedMetric},null,8,["width","selected-country","selected-product","selected-metric"])])]),g("div",Ae,[t[18]||(t[18]=g("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Top 10 L√§nder ",-1)),g("div",Fe,[(w(!0),p(y,null,b(s.topCountries,(e,t)=>(w(),p("div",{key:e.country,class:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded"},[g("div",Le,[g("span",Re,f(t+1),1),g("span",Be,f(e.country),1)]),g("span",Ve,f(e.value.toLocaleString("de-DE")),1)]))),128))])]),g("div",Ge,[t[23]||(t[23]=g("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Schnellstatistiken ",-1)),g("div",Te,[g("div",We,[t[19]||(t[19]=g("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Durchschnitt/Land:",-1)),g("span",je,f(s.globalStats.countries>0?Math.round(s.globalStats.total/s.globalStats.countries).toLocaleString("de-DE"):"0"),1)]),g("div",Ie,[t[20]||(t[20]=g("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Datenjahre:",-1)),g("span",Ne,f((null==(c=s.dataStore.availableYears)?void 0:c.length)||0),1)]),g("div",qe,[t[21]||(t[21]=g("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Produkte:",-1)),g("span",Ke,f((null==(d=s.dataStore.availableProducts)?void 0:d.length)||0),1)]),g("div",Ue,[t[22]||(t[22]=g("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Gesamt L√§nder:",-1)),g("span",He,f((null==(h=null==(u=s.dataStore.geoData)?void 0:u.features)?void 0:h.length)||0),1)])])])])])):v("",!0)])]),g("div",Ze,[t[28]||(t[28]=g("div",{class:"card-header"},[g("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Schnellaktionen ")],-1)),g("div",$e,[g("div",Ye,[k(m,{to:"/timeseries",class:"block p-4 bg-gray-50 dark:bg-gray-900 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-center"},{default:_(()=>t[24]||(t[24]=[g("svg",{class:"w-8 h-8 text-primary-600 dark:text-primary-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})],-1),g("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Zeitreihen",-1)])),_:1,__:[24]}),k(m,{to:"/simulation",class:"block p-4 bg-gray-50 dark:bg-gray-900 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-center"},{default:_(()=>t[25]||(t[25]=[g("svg",{class:"w-8 h-8 text-secondary-600 dark:text-secondary-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})],-1),g("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Simulation",-1)])),_:1,__:[25]}),k(m,{to:"/ml-predictions",class:"block p-4 bg-gray-50 dark:bg-gray-900 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-center"},{default:_(()=>t[26]||(t[26]=[g("svg",{class:"w-8 h-8 text-success-600 dark:text-success-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2z"})],-1),g("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"ML Prognosen",-1)])),_:1,__:[26]}),k(m,{to:"/structural",class:"block p-4 bg-gray-50 dark:bg-gray-900 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-center"},{default:_(()=>t[27]||(t[27]=[g("svg",{class:"w-8 h-8 text-warning-600 dark:text-warning-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[g("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14-7v12a2 2 0 01-2 2H7a2 2 0 01-2-2V4a2 2 0 012-2h10a2 2 0 012 2zM9 11h6"})],-1),g("p",{class:"text-sm font-medium text-gray-900 dark:text-gray-100"},"Strukturanalyse",-1)])),_:1,__:[27]})])])])])}],["__file","DashboardPanel.vue"]]),Je=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),Xe={"Animal fats":"Tierische Fette","Barley and products":"Gerste und Erzeugnisse",Beer:"Bier","Cereals - Excluding Beer":"Getreide - Ohne Bier","Cereals, other":"Getreide, andere","Maize and products":"Mais und Erzeugnisse","Millet and products":"Hirse und Erzeugnisse",Oats:"Hafer","Rice and products":"Reis und Erzeugnisse","Rye and products":"Roggen und Erzeugnisse","Sorghum and products":"Sorghum und Erzeugnisse","Wheat and products":"Weizen und Erzeugnisse","Apples and products":"√Ñpfel und Erzeugnisse",Bananas:"Bananen","Citrus, Other":"Zitrusfr√ºchte, andere",Dates:"Datteln","Fruits - Excluding Wine":"Fr√ºchte - Ohne Wein","Fruits, other":"Fr√ºchte, andere","Grapefruit and products":"Grapefruit und Erzeugnisse","Grapes and products (excl wine)":"Trauben und Erzeugnisse (ohne Wein)","Lemons, Limes and products":"Zitronen, Limetten und Erzeugnisse","Oranges, Mandarines":"Orangen, Mandarinen","Pineapples and products":"Ananas und Erzeugnisse","Cassava and products":"Maniok und Erzeugnisse",Onions:"Zwiebeln",Plantains:"Kochbananen","Potatoes and products":"Kartoffeln und Erzeugnisse","Roots, Other":"Wurzeln, andere","Starchy Roots":"St√§rkehaltige Wurzeln","Sweet potatoes":"S√º√ükartoffeln","Tomatoes and products":"Tomaten und Erzeugnisse",Vegetables:"Gem√ºse","Vegetables, other":"Gem√ºse, andere",Yams:"Yams",Beans:"Bohnen",Groundnuts:"Erdn√ºsse","Nuts and products":"N√ºsse und Erzeugnisse",Peas:"Erbsen",Pulses:"H√ºlsenfr√ºchte","Pulses, Other and products":"H√ºlsenfr√ºchte, andere und Erzeugnisse",Treenuts:"Baumn√ºsse","Bovine Meat":"Rindfleisch","Butter, Ghee":"Butter, Ghee",Cream:"Sahne",Eggs:"Eier",Meat:"Fleisch","Meat, Aquatic Mammals":"Fleisch von Wassers√§ugetieren","Meat, Other":"Fleisch, andere","Milk - Excluding Butter":"Milch - Ohne Butter","Mutton & Goat Meat":"Hammel- und Ziegenfleisch",Offals:"Innereien","Offals, Edible":"Innereien, essbar",Pigmeat:"Schweinefleisch","Poultry Meat":"Gefl√ºgelfleisch","Aquatic Animals, Others":"Wassertiere, andere","Aquatic Plants":"Wasserpflanzen","Aquatic Products, Other":"Wasserprodukte, andere",Cephalopods:"Kopff√º√üer",Crustaceans:"Krebstiere","Demersal Fish":"Bodenfische","Fish, Body Oil":"Fischk√∂rper√∂l","Fish, Liver Oil":"Fischleber√∂l","Fish, Seafood":"Fisch, Meeresfr√ºchte","Freshwater Fish":"S√º√üwasserfische","Marine Fish, Other":"Meeresfische, andere","Molluscs, Other":"Weichtiere, andere","Pelagic Fish":"Pelagische Fische","Coconut Oil":"Kokos√∂l","Cottonseed Oil":"Baumwollsamen√∂l","Fats, Animals, Raw":"Tierische Fette, roh","Groundnut Oil":"Erdnuss√∂l","Maize Germ Oil":"Maiskeim√∂l",Oilcrops:"√ñlsaaten","Oilcrops Oil, Other":"√ñlsaaten√∂l, andere","Oilcrops, Other":"√ñlsaaten, andere","Olive Oil":"Oliven√∂l","Olives (including preserved)":"Oliven (einschlie√ülich konservierte)","Palm Oil":"Palm√∂l","Palmkernel Oil":"Palmkern√∂l","Rape and Mustard Oil":"Raps- und Senf√∂l","Ricebran Oil":"Reiskleie√∂l","Sesameseed Oil":"Sesam√∂l","Soyabean Oil":"Soja√∂l","Sunflowerseed Oil":"Sonnenblumen√∂l","Vegetable Oils":"Pflanzen√∂le",Cloves:"Nelken","Cocoa Beans and products":"Kakaobohnen und Erzeugnisse","Coffee and products":"Kaffee und Erzeugnisse",Cottonseed:"Baumwollsamen","Palm kernels":"Palmkerne",Pepper:"Pfeffer",Pimento:"Piment","Rape and Mustardseed":"Raps- und Senfsamen","Sesame seed":"Sesamsamen",Soyabeans:"Sojabohnen",Spices:"Gew√ºrze","Spices, Other":"Gew√ºrze, andere",Stimulants:"Stimulanzien","Sunflower seed":"Sonnenblumenkerne","Tea (including mate)":"Tee (einschlie√ülich Mate)","Beverages, Fermented":"Fermentierte Getr√§nke",Honey:"Honig","Sugar & Sweeteners":"Zucker und S√º√üstoffe","Sugar (Raw Equivalent)":"Zucker (Rohzucker√§quivalent)","Sugar Crops":"Zuckerpflanzen","Sugar beet":"Zuckerr√ºben","Sugar cane":"Zuckerrohr","Sugar non-centrifugal":"Zucker, nicht zentrifugiert","Sweeteners, Other":"S√º√üstoffe, andere",Wine:"Wein","Coconuts - Incl Copra":"Kokosn√ºsse - Inkl. Kopra","Infant food":"S√§uglingsnahrung",Miscellaneous:"Verschiedenes",animal_fats:"Tierische Fette",apples_and_products:"√Ñpfel und Erzeugnisse",aquatic_animals_others:"Wassertiere, andere",aquatic_plants:"Wasserpflanzen",aquatic_products_other:"Wasserprodukte, andere",bananas:"Bananen",barley_and_products:"Gerste und Erzeugnisse",beans:"Bohnen",beer:"Bier",beverages_fermented:"Fermentierte Getr√§nke",bovine_meat:"Rindfleisch",butter_ghee:"Butter, Ghee",cassava_and_products:"Maniok und Erzeugnisse",cephalopods:"Kopff√º√üer",cereals___excluding_beer:"Getreide - Ohne Bier",cereals_other:"Getreide, andere",citrus_other:"Zitrusfr√ºchte, andere",cloves:"Nelken",cocoa_beans_and_products:"Kakaobohnen und Erzeugnisse",coconut_oil:"Kokos√∂l",coconuts___incl_copra:"Kokosn√ºsse - Inkl. Kopra",coffee_and_products:"Kaffee und Erzeugnisse",cottonseed:"Baumwollsamen",cottonseed_oil:"Baumwollsamen√∂l",cream:"Sahne",crustaceans:"Krebstiere",dates:"Datteln",demersal_fish:"Bodenfische",eggs:"Eier",fats_animals_raw:"Tierische Fette, roh",fish_body_oil:"Fischk√∂rper√∂l",fish_liver_oil:"Fischleber√∂l",fish_seafood:"Fisch, Meeresfr√ºchte",freshwater_fish:"S√º√üwasserfische",fruits___excluding_wine:"Fr√ºchte - Ohne Wein",fruits_other:"Fr√ºchte, andere",grapefruit_and_products:"Grapefruit und Erzeugnisse",grapes_and_products_excl_wine:"Trauben und Erzeugnisse (ohne Wein)",groundnut_oil:"Erdnuss√∂l",groundnuts:"Erdn√ºsse",honey:"Honig",lemons_limes_and_products:"Zitronen, Limetten und Erzeugnisse",maize_and_products:"Mais und Erzeugnisse",maize_germ_oil:"Maiskeim√∂l",marine_fish_other:"Meeresfische, andere",meat:"Fleisch",meat_other:"Fleisch, andere",milk___excluding_butter:"Milch - Ohne Butter",millet_and_products:"Hirse und Erzeugnisse",miscellaneous:"Verschiedenes",molluscs_other:"Weichtiere, andere","mutton_&_goat_meat":"Hammel- und Ziegenfleisch",nuts_and_products:"N√ºsse und Erzeugnisse",oats:"Hafer",offals:"Innereien",offals_edible:"Innereien, essbar",oilcrops:"√ñlsaaten",oilcrops_oil_other:"√ñlsaaten√∂l, andere",oilcrops_other:"√ñlsaaten, andere",olive_oil:"Oliven√∂l",olives_including_preserved:"Oliven (einschlie√ülich konservierte)",onions:"Zwiebeln",oranges_mandarines:"Orangen, Mandarinen",palm_kernels:"Palmkerne",palm_oil:"Palm√∂l",palmkernel_oil:"Palmkern√∂l",peas:"Erbsen",pelagic_fish:"Pelagische Fische",pepper:"Pfeffer",pigmeat:"Schweinefleisch",pimento:"Piment",pineapples_and_products:"Ananas und Erzeugnisse",plantains:"Kochbananen",potatoes_and_products:"Kartoffeln und Erzeugnisse",poultry_meat:"Gefl√ºgelfleisch",pulses:"H√ºlsenfr√ºchte",pulses_other_and_products:"H√ºlsenfr√ºchte, andere und Erzeugnisse",rape_and_mustard_oil:"Raps- und Senf√∂l",rape_and_mustardseed:"Raps- und Senfsamen",rice_and_products:"Reis und Erzeugnisse",ricebran_oil:"Reiskleie√∂l",roots_other:"Wurzeln, andere",rye_and_products:"Roggen und Erzeugnisse",sesame_seed:"Sesamsamen",sesameseed_oil:"Sesam√∂l",sorghum_and_products:"Sorghum und Erzeugnisse",soyabean_oil:"Soja√∂l",soyabeans:"Sojabohnen",spices:"Gew√ºrze",spices_other:"Gew√ºrze, andere",starchy_roots:"St√§rkehaltige Wurzeln",stimulants:"Stimulanzien","sugar_&_sweeteners":"Zucker und S√º√üstoffe",sugar_beet:"Zuckerr√ºben",sugar_cane:"Zuckerrohr",sugar_crops:"Zuckerpflanzen",sugar_non_centrifugal:"Zucker, nicht zentrifugiert",sugar_raw_equivalent:"Zucker (Rohzucker√§quivalent)",sunflower_seed:"Sonnenblumenkerne",sunflowerseed_oil:"Sonnenblumen√∂l",sweet_potatoes:"S√º√ükartoffeln",sweeteners_other:"S√º√üstoffe, andere",tea_including_mate:"Tee (einschlie√ülich Mate)",tomatoes_and_products:"Tomaten und Erzeugnisse",treenuts:"Baumn√ºsse",vegetable_oils:"Pflanzen√∂le",vegetables:"Gem√ºse",vegetables_other:"Gem√ºse, andere",wheat_and_products:"Weizen und Erzeugnisse",wine:"Wein",yams:"Yams"},et={cereals:{name:"Getreide und K√∂rner",icon:"üåæ",products:["Barley and products","Beer","Cereals - Excluding Beer","Cereals, other","Maize and products","Millet and products","Oats","Rice and products","Rye and products","Sorghum and products","Wheat and products"]},fruits:{name:"Fr√ºchte",icon:"üçé",products:["Apples and products","Bananas","Citrus, Other","Dates","Fruits - Excluding Wine","Fruits, other","Grapefruit and products","Grapes and products (excl wine)","Lemons, Limes and products","Oranges, Mandarines","Pineapples and products"]},vegetables:{name:"Gem√ºse und Wurzeln",icon:"ü•ï",products:["Cassava and products","Onions","Plantains","Potatoes and products","Roots, Other","Starchy Roots","Sweet potatoes","Tomatoes and products","Vegetables","Vegetables, other","Yams"]},legumes:{name:"H√ºlsenfr√ºchte und N√ºsse",icon:"ü•ú",products:["Beans","Groundnuts","Nuts and products","Peas","Pulses","Pulses, Other and products","Treenuts"]},meat:{name:"Fleisch und Tierprodukte",icon:"ü•©",products:["Bovine Meat","Butter, Ghee","Cream","Eggs","Meat","Meat, Aquatic Mammals","Meat, Other","Milk - Excluding Butter","Mutton & Goat Meat","Offals","Offals, Edible","Pigmeat","Poultry Meat"]},seafood:{name:"Fisch und Meeresfr√ºchte",icon:"üêü",products:["Aquatic Animals, Others","Aquatic Plants","Aquatic Products, Other","Cephalopods","Crustaceans","Demersal Fish","Fish, Body Oil","Fish, Liver Oil","Fish, Seafood","Freshwater Fish","Marine Fish, Other","Molluscs, Other","Pelagic Fish"]},oils:{name:"√ñle und Fette",icon:"ü´í",products:["Animal fats","Coconut Oil","Cottonseed Oil","Fats, Animals, Raw","Groundnut Oil","Maize Germ Oil","Oilcrops","Oilcrops Oil, Other","Oilcrops, Other","Olive Oil","Olives (including preserved)","Palm Oil","Palmkernel Oil","Rape and Mustard Oil","Ricebran Oil","Sesameseed Oil","Soyabean Oil","Sunflowerseed Oil","Vegetable Oils"]},seeds:{name:"Samen und Rohstoffe",icon:"üå±",products:["Cloves","Cocoa Beans and products","Coffee and products","Cottonseed","Palm kernels","Pepper","Pimento","Rape and Mustardseed","Sesame seed","Soyabeans","Spices","Spices, Other","Stimulants","Sunflower seed","Tea (including mate)"]},sugar:{name:"Zucker und S√º√üstoffe",icon:"üçØ",products:["Beverages, Fermented","Honey","Sugar & Sweeteners","Sugar (Raw Equivalent)","Sugar Crops","Sugar beet","Sugar cane","Sugar non-centrifugal","Sweeteners, Other","Wine"]},other:{name:"Andere",icon:"üì¶",products:["Coconuts - Incl Copra","Infant food","Miscellaneous"]}},tt=e=>Xe[e]||e,at=e=>{if(Xe[e])return Xe[e];const t=e.replace(/_/g," ");if(Xe[t])return Xe[t];const a=t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ");return Xe[a]?Xe[a]:e.replace(/_/g," ").replace(/&/g,"&").replace(/___/g," - ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},st=e=>{for(const[t,a]of Object.entries(et))if(a.products.includes(e))return t;return"other"},rt=()=>Object.keys(Xe).map(e=>{var t;return{value:e,label:tt(e),category:st(e),categoryName:(null==(t=et[st(e)])?void 0:t.name)||"Andere"}}).sort((e,t)=>e.label.localeCompare(t.label,"de")),nt={class:"timeseries-panel"},lt={class:"panel-controls"},it={class:"filters-grid"},ot={class:"filter-group"},ct={class:"filter-group"},dt={class:"filter-group"},ut={class:"filter-group"},ht={class:"panel-content"},mt={key:0,class:"error-container"},pt={key:1,class:"loading-container"},gt={key:2,class:"chart-container"},vt={key:3,class:"empty-state"},ft={key:0,class:"panel-footer"},yt={class:"stats-grid"},bt={class:"stat-item"},kt={class:"stat-value"},_t={class:"stat-item"},St={class:"stat-value"},wt={class:"stat-item"},xt={class:"stat-value"};const Ct=R({__name:"TimeseriesPanel",setup(s,{expose:r}){r();const n=e(),l=t(),i=c("Wheat and products"),o=c(""),h=c("production"),p=c([]),g=c(!1),v=c(null),f=d(()=>null!==v.value),y=d(()=>{var e,t;const a=(null==(t=null==(e=n.faoMetadata)?void 0:e.data_summary)?void 0:t.food_items)||[];return a.length>0?a.map(e=>({value:e,label:tt(e)})).sort((e,t)=>e.label.localeCompare(t.label,"de")):rt()}),b=d(()=>{if(!n.timeseriesData||!i.value)return[];const e=n.timeseriesData[i.value];if(!e)return[];const t=Object.keys(e),a=["World","Africa","Americas","Asia","Europe","Oceania","Northern America","South America","Central America","Caribbean","Northern Africa","Eastern Africa","Middle Africa","Southern Africa","Western Africa","Eastern Asia","South-eastern Asia","Southern Asia","Western Asia","Central Asia","Eastern Europe","Northern Europe","Southern Europe","Western Europe","Australia and New Zealand","Melanesia","European Union (27)","Small Island Developing States","Least Developed Countries","Land Locked Developing Countries","Low Income Food Deficit Countries","Net Food Importing Developing Countries"];return t.filter(e=>!a.includes(e)&&!e.toLowerCase().includes("total")).map(e=>({value:e,label:e})).sort((e,t)=>e.label.localeCompare(t.label))}),k=()=>{if(!n.timeseriesData||!i.value)return void(p.value=[]);const e=n.timeseriesData[i.value];if(e)if(o.value&&e[o.value]){const t=e[o.value],a="production"===h.value?"production":"import_quantity"===h.value?"imports":"export_quantity"===h.value?"exports":"domestic_supply";p.value=t.map(e=>({year:e.year,value:e[a]||0,country:o.value,product:i.value,unit:e.unit||"t"})).filter(e=>e.value>0).sort((e,t)=>e.year-t.year)}else{const t=new Map,a="production"===h.value?"production":"import_quantity"===h.value?"imports":"export_quantity"===h.value?"exports":"domestic_supply";Object.entries(e).forEach(([e,s])=>{s.forEach(e=>{const s=e[a]||0;if(s>0){const a=e.year,r=t.get(a)||0;t.set(a,r+s)}})}),p.value=Array.from(t.entries()).map(([e,t])=>({year:e,value:t,country:"Global",product:i.value,unit:"t"})).sort((e,t)=>e.year-t.year)}else p.value=[]},_=async()=>{v.value=null,g.value=!0;try{n.timeseriesData||await n.initializeApp(),k()}catch(e){v.value=e,p.value=[]}finally{g.value=!1}};m([i,o,h],()=>{k()}),u(async()=>{await _()});const S={dataStore:n,uiStore:l,selectedProduct:i,selectedCountry:o,selectedMetric:h,chartData:p,isLoading:g,error:v,hasError:f,productOptions:y,countryOptions:b,metricOptions:[{value:"production",label:"Produktion"},{value:"import_quantity",label:"Import"},{value:"export_quantity",label:"Export"},{value:"domestic_supply_quantity",label:"Inlandsversorgung"}],updateChartData:k,loadData:_,handleError:e=>{v.value=e},handlePointClick:e=>{},ref:c,computed:d,watch:m,onMounted:u,get useDataStore(){return e},get useUIStore(){return t},ErrorBoundary:A,ErrorDisplay:O,LoadingSpinner:D,BaseButton:E,SearchableSelect:z,TimeseriesChart:a,get getAllProductOptions(){return rt},get getGermanName(){return tt}};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}},[["render",function(e,t,a,s,r,n){return w(),p("div",nt,[k(s.ErrorBoundary,{onError:s.handleError},{default:_(()=>[t[8]||(t[8]=g("div",{class:"panel-header"},[g("h2",{class:"panel-title"},"Zeitreihen-Analyse"),g("p",{class:"panel-description"}," Zeitliche Entwicklung von Produktionsdaten und Trends ")],-1)),g("div",lt,[g("div",it,[g("div",ot,[k(s.SearchableSelect,{modelValue:s.selectedProduct,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedProduct=e),options:s.productOptions,placeholder:"Produkt ausw√§hlen...",label:"Produkt",size:"md"},null,8,["modelValue","options"])]),g("div",ct,[k(s.SearchableSelect,{modelValue:s.selectedCountry,"onUpdate:modelValue":t[1]||(t[1]=e=>s.selectedCountry=e),options:s.countryOptions,placeholder:"Land ausw√§hlen...",label:"Land",size:"md"},null,8,["modelValue","options"])]),g("div",dt,[k(s.SearchableSelect,{modelValue:s.selectedMetric,"onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedMetric=e),options:s.metricOptions,placeholder:"Metrik ausw√§hlen...",label:"Metrik",size:"md"},null,8,["modelValue"])]),g("div",ut,[k(s.BaseButton,{onClick:s.loadData,disabled:s.isLoading,variant:"primary",size:"md",class:"mt-6"},{default:_(()=>[s.isLoading?(w(),C(s.LoadingSpinner,{key:0,size:"sm"})):v("",!0),P(" "+f(s.isLoading?"L√§dt...":"Daten laden"),1)]),_:1},8,["disabled"])])])]),g("div",ht,[s.hasError?(w(),p("div",mt,[k(s.ErrorDisplay,{error:s.error,title:"Fehler beim Laden der Zeitreihendaten",showRetry:!0,onRetry:s.loadData},null,8,["error"])])):s.isLoading?(w(),p("div",pt,[k(s.LoadingSpinner,{size:"lg"}),t[3]||(t[3]=g("p",{class:"loading-text"},"Lade Zeitreihendaten...",-1))])):s.chartData.length>0?(w(),p("div",gt,[k(s.TimeseriesChart,{width:800,height:500,"selected-country":s.selectedCountry,"selected-product":s.selectedProduct,"selected-metric":s.selectedMetric,onPointClick:s.handlePointClick},null,8,["selected-country","selected-product","selected-metric"])])):(w(),p("div",vt,t[4]||(t[4]=[g("div",{class:"empty-icon"},"üìà",-1),g("h3",null,"Keine Daten verf√ºgbar",-1),g("p",null,"W√§hlen Sie Produkt und Land aus, um Zeitreihendaten anzuzeigen.",-1)])))]),s.chartData.length>0?(w(),p("div",ft,[g("div",yt,[g("div",bt,[t[5]||(t[5]=g("span",{class:"stat-label"},"Datenpunkte",-1)),g("span",kt,f(s.chartData.length),1)]),g("div",_t,[t[6]||(t[6]=g("span",{class:"stat-label"},"Produkt",-1)),g("span",St,f(s.getGermanName(s.selectedProduct)),1)]),g("div",wt,[t[7]||(t[7]=g("span",{class:"stat-label"},"Land",-1)),g("span",xt,f(s.selectedCountry||"Global"),1)])])])):v("",!0)]),_:1,__:[8]})])}],["__scopeId","data-v-e8b57b2c"],["__file","TimeseriesPanel.vue"]]),Pt=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),Mt={class:"simulation-panel"},zt={class:"panel-content"},Et={key:0,class:"error-container"},Dt={key:1,class:"loading-container"},Ot={key:2,class:"simulation-content"},At={class:"scenario-section"},Ft={class:"scenario-grid"},Lt=["onClick"],Rt={class:"scenario-icon"},Bt={class:"scenario-name"},Vt={class:"scenario-description"},Gt={class:"config-section"},Tt={class:"config-grid"},Wt={class:"config-item"},jt={class:"slider-header"},It={class:"slider-value"},Nt={class:"slider-description"},qt={class:"config-item"},Kt={class:"slider-header"},Ut={class:"slider-value"},Ht={class:"slider-description"},Zt={class:"config-item"},$t={class:"slider-header"},Yt={class:"slider-value"},Qt={class:"slider-description"},Jt={class:"config-item"},Xt={class:"slider-header"},ea={class:"slider-value"},ta={class:"slider-description"},aa={class:"config-actions"},sa={class:"action-buttons"},ra={key:0,class:"config-changed-indicator"},na={key:0,class:"results-section"},la={class:"results-header"},ia={class:"results-meta"},oa={class:"meta-item"},ca={class:"meta-item"},da={key:0,class:"meta-item"},ua={class:"results-grid"},ha={class:"result-card"},ma={class:"result-description"},pa={class:"result-card"},ga={class:"result-description"},va={class:"result-card"},fa={class:"result-description"},ya={class:"result-card"},ba={class:"result-description"},ka={class:"chart-container"},_a={key:1,class:"empty-state"};const Sa=R({__name:"SimulationPanel",setup(e,{expose:t}){t();const{handleError:a,wrapAsync:s}=L(),n=c(!1),l=c(null),i=c(null),o=c("climate_shock"),h=c(!1),p=c(null),g=c({climateChange:1,populationGrowth:1.2,techProgress:1.1,economicGrowth:1.5}),v=d(()=>null!==l.value),f=d(()=>[{id:"climate_shock",name:"Klimaschock",description:"Extreme Wetterereignisse und Klimawandel",icon:"üå°Ô∏è",sliderPreset:{climateChange:1.4,populationGrowth:1.1,techProgress:.9,economicGrowth:.8}},{id:"population_pressure",name:"Bev√∂lkerungsdruck",description:"Schnelles Bev√∂lkerungswachstum vs. Produktionskapazit√§t",icon:"üë•",sliderPreset:{climateChange:1.1,populationGrowth:1.8,techProgress:1.1,economicGrowth:1.3}},{id:"tech_revolution",name:"Technologie-Revolution",description:"Precision Farming und Biotechnologie",icon:"üî¨",sliderPreset:{climateChange:.9,populationGrowth:1.2,techProgress:1.8,economicGrowth:1.6}},{id:"trade_disruption",name:"Handelsdisruption",description:"Geopolitische Spannungen und Handelskriege",icon:"üìà",sliderPreset:{climateChange:1.2,populationGrowth:1.1,techProgress:1,economicGrowth:.7}},{id:"custom",name:"Benutzerdefiniert",description:"Eigene Parameter-Kombination",icon:"‚öôÔ∏è",sliderPreset:{climateChange:1,populationGrowth:1,techProgress:1,economicGrowth:1}}]),y=d(()=>({width:800,height:400,margin:{top:20,right:30,bottom:40,left:80},showConfidenceInterval:!0,showScenarios:!0,interactive:!0,animated:!0})),b=(e,t,a,s,r=1)=>{const n=[e];let l=e;for(let i=1;i<=s;i++){const s=r;l*=1+(t+.1*(e-l)/e)*s+a*(2*(Math.random()-.5))*Math.sqrt(s),n.push(Math.max(0,l))}return n},k=(e,t=500)=>{const a=[],s=-.03*(e.climateChange-1)+.02*(e.populationGrowth-1)+.04*(e.techProgress-1)+.015*(e.economicGrowth-1),r=.1+.08*Math.abs(e.climateChange-1)+.05*Math.abs(e.economicGrowth-1);for(let n=0;n<t;n++){const e=b(1e6,s,r,10);a.push(e)}return a},_=(e,t=.9)=>{const a=e[0].length,s=[];for(let r=0;r<a;r++){const a=e.map(e=>e[r]).sort((e,t)=>e-t),n=Math.floor((1-t)/2*a.length),l=Math.floor((1+t)/2*a.length);s.push({mean:a.reduce((e,t)=>e+t,0)/a.length,lower:a[n],upper:a[l],median:a[Math.floor(a.length/2)]})}return s},S=s(async()=>{l.value=null,n.value=!0;try{const e=f.value.find(e=>e.id===o.value),t=e?e.name:"Benutzerdefiniert";await new Promise(e=>setTimeout(e,1500));const a=g.value,s=k(a),r=_(s),n=k({climateChange:1,populationGrowth:1,techProgress:1,economicGrowth:1},100),l=_(n).map(e=>e.mean),c=r[r.length-1].mean,d=l[l.length-1],u=(c-d)/d*100,m=Math.max(15,Math.min(100,65+.3*u-20*Math.abs(a.climateChange-1)+15*(a.techProgress-1))),v=30*(a.climateChange-1)+12*(a.populationGrowth-1)+-15*(a.techProgress-1)+8*(a.economicGrowth-1)+(u>0?.1*u:0),y=.8*u+40*(a.techProgress-1)+50*(a.economicGrowth-1)-.2*Math.abs(v),b=(new Date).getFullYear(),S=r.map((e,t)=>({year:b+t,baseline:l[t],scenario:e.mean,lower:e.lower,upper:e.upper}));i.value={productionChange:Math.round(10*u)/10,foodSecurity:Math.round(m),environmentImpact:Math.round(10*v)/10,economicImpact:Math.round(10*y)/10,timeSeriesData:S,config:{...a},scenario:t,dataSource:`Monte Carlo Simulation (${s.length} Pfade)`,simulationDetails:{totalPaths:s.length,confidenceLevel:"90%",timeHorizon:"10 Jahre",method:"Geometrische Brownsche Bewegung"}},p.value={...a},h.value=!1}catch(e){l.value=e}finally{n.value=!1}},{component:"SimulationPanel",operation:"runSimulation"});m(g,e=>{if(p.value){const t=Object.keys(e).some(t=>Math.abs(e[t]-p.value[t])>.05);h.value=t,t&&(i.value=null)}},{deep:!0}),u(async()=>{f.value.length>0&&w(f.value[0].id)});const w=e=>{o.value=e;const t=f.value.find(t=>t.id===e);t&&t.sliderPreset&&(g.value={...t.sliderPreset},p.value={...t.sliderPreset},i.value=null,h.value=!1)},x={handleErrorUtil:a,wrapAsync:s,isLoading:n,error:l,simulationResults:i,selectedScenario:o,hasConfigChanged:h,lastAppliedConfig:p,scenarioConfig:g,hasError:v,availableScenarios:f,chartConfig:y,calculateStochasticPath:b,runMonteCarloSimulation:k,calculateConfidenceIntervals:_,runSimulation:S,resetConfig:()=>{const e={climateChange:1,populationGrowth:1,techProgress:1,economicGrowth:1};g.value={...e},p.value={...e},i.value=null,h.value=!1,o.value="custom"},handleError:e=>{l.value=e,a(e,{component:"SimulationPanel",action:"component_error"})},handleScenarioSelect:w,formatChange:e=>e>0?`+${e.toFixed(1)}`:e.toFixed(1),getChangeClass:e=>e>0?"text-green-600 dark:text-green-400":e<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",getFoodSecurityClass:e=>e>=80?"text-green-600 dark:text-green-400":e>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",getEnvironmentClass:e=>e<=0?"text-green-600 dark:text-green-400":e<=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",getProductionDescription:e=>e>10?"Starke Produktionssteigerung erwartet":e>0?"Moderate Produktionssteigerung":e>-10?"Leichter Produktionsr√ºckgang":"Erheblicher Produktionsr√ºckgang",getFoodSecurityDescription:e=>e>=80?"Hohe Ern√§hrungssicherheit":e>=60?"Mittlere Ern√§hrungssicherheit":e>=40?"Niedrige Ern√§hrungssicherheit":"Kritische Ern√§hrungslage",getEnvironmentDescription:e=>e<=0?"Positive Umweltauswirkungen":e<=5?"Geringe Umweltbelastung":e<=15?"M√§√üige Umweltbelastung":"Hohe Umweltbelastung",getEconomicDescription:e=>e>20?"Starke wirtschaftliche Vorteile":e>0?"Positive wirtschaftliche Effekte":e>-10?"Geringe wirtschaftliche Verluste":"Erhebliche wirtschaftliche Einbu√üen",getSliderDescription:(e,t)=>{switch(e){case"climate":return t<.9?"Milde Klimabedingungen":t>1.3?"Extreme Klimaereignisse":"Normale Klimabedingungen";case"population":return t<.9?"Schrumpfende Bev√∂lkerung":t>1.5?"Schnelles Bev√∂lkerungswachstum":"Stabiles Bev√∂lkerungswachstum";case"tech":return t<.9?"Stagnierende Technologie":t>1.5?"Durchbruch-Innovationen":"Stetiger Technologiefortschritt";case"economic":return t<.8?"Wirtschaftskrise":t>1.4?"Wirtschaftsboom":"Stabile Wirtschaftslage";default:return""}},ref:c,computed:d,watch:m,onMounted:u,get useErrorHandling(){return L},ErrorBoundary:A,ErrorDisplay:O,LoadingSpinner:D,BaseButton:E,RangeSlider:F,SimulationChart:r};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}},[["render",function(e,t,a,s,r,n){return w(),p("div",Mt,[k(s.ErrorBoundary,{onError:s.handleError},{default:_(()=>[t[21]||(t[21]=g("div",{class:"panel-header"},[g("h2",{class:"panel-title"},"Simulationsmodelle"),g("p",{class:"panel-description"}," Interaktive Monte-Carlo-Simulationen f√ºr landwirtschaftliche Szenarien "),g("div",{class:"simulation-info"},[g("div",{class:"info-section"},[g("h3",{class:"info-title"},"Was wird berechnet?"),g("p",{class:"info-text"},[P(" Diese Simulation verwendet "),g("strong",null,"Monte-Carlo-Verfahren"),P(" mit 500 stochastischen Pfaden, um die Auswirkungen verschiedener Faktoren auf die globale Nahrungsmittelproduktion zu modellieren. Basierend auf "),g("strong",null,"Geometrischer Brownscher Bewegung"),P(" werden realistische Produktionstrends und Volatilit√§ten berechnet. ")])]),g("div",{class:"info-section"},[g("h3",{class:"info-title"},"Wie funktioniert es?"),g("div",{class:"info-steps"},[g("div",{class:"step"},[g("span",{class:"step-number"},"1"),g("span",{class:"step-text"},[g("strong",null,"Szenario w√§hlen:"),P(" Klicken Sie auf ein vordefiniertes Szenario, um die Parameter automatisch zu setzen")])]),g("div",{class:"step"},[g("span",{class:"step-number"},"2"),g("span",{class:"step-text"},[g("strong",null,"Parameter anpassen:"),P(" Nutzen Sie die Slider, um Faktoren wie Klimawandel, Bev√∂lkerungswachstum, Technologiefortschritt und wirtschaftliche Stabilit√§t zu justieren")])]),g("div",{class:"step"},[g("span",{class:"step-number"},"3"),g("span",{class:"step-text"},[g("strong",null,"Simulation starten:"),P(" Die Berechnung erfolgt in Echtzeit und zeigt Auswirkungen auf Produktion, Ern√§hrungssicherheit, Umwelt und Wirtschaft")])])])]),g("div",{class:"info-section"},[g("h3",{class:"info-title"},"Berechnungsgrundlage"),g("p",{class:"info-text"},[P(" Jeder Faktor beeinflusst die Simulation mathematisch: "),g("strong",null,"Klimawandel"),P(" reduziert Ertr√§ge, "),g("strong",null,"Bev√∂lkerungswachstum"),P(" erh√∂ht die Nachfrage, "),g("strong",null,"Technologie"),P(" steigert die Effizienz und "),g("strong",null,"wirtschaftliche Instabilit√§t"),P(" erh√∂ht die Volatilit√§t. Die Ergebnisse zeigen 10-Jahres-Projektionen mit Konfidenzintervallen. ")])])])],-1)),g("div",zt,[s.hasError?(w(),p("div",Et,[k(s.ErrorDisplay,{error:s.error,title:"Fehler in der Simulation",showRetry:!0,onRetry:s.runSimulation},null,8,["error","onRetry"])])):s.isLoading?(w(),p("div",Dt,[k(s.LoadingSpinner,{size:"lg"}),t[4]||(t[4]=g("p",{class:"loading-text"},"Simulation l√§uft...",-1))])):(w(),p("div",Ot,[g("div",At,[t[5]||(t[5]=g("h3",{class:"section-title"},"Szenario ausw√§hlen",-1)),g("div",Ft,[(w(!0),p(y,null,b(s.availableScenarios,e=>(w(),p("div",{key:e.id,class:x(["scenario-card",{"scenario-active":s.selectedScenario===e.id}]),onClick:t=>s.handleScenarioSelect(e.id)},[g("div",Rt,f(e.icon),1),g("h4",Bt,f(e.name),1),g("p",Vt,f(e.description),1)],10,Lt))),128))])]),g("div",Gt,[t[11]||(t[11]=g("h3",{class:"section-title"},"Parameter-Konfiguration",-1)),g("div",Tt,[g("div",Wt,[g("div",jt,[t[6]||(t[6]=g("label",null,"Klimawandel-Intensit√§t",-1)),g("span",It,f(s.scenarioConfig.climateChange.toFixed(1)),1)]),g("div",Nt,f(s.getSliderDescription("climate",s.scenarioConfig.climateChange)),1),k(s.RangeSlider,{modelValue:s.scenarioConfig.climateChange,"onUpdate:modelValue":t[0]||(t[0]=e=>s.scenarioConfig.climateChange=e),min:.5,max:1.5,step:.1},null,8,["modelValue"])]),g("div",qt,[g("div",Kt,[t[7]||(t[7]=g("label",null,"Bev√∂lkerungswachstum",-1)),g("span",Ut,f(s.scenarioConfig.populationGrowth.toFixed(1)),1)]),g("div",Ht,f(s.getSliderDescription("population",s.scenarioConfig.populationGrowth)),1),k(s.RangeSlider,{modelValue:s.scenarioConfig.populationGrowth,"onUpdate:modelValue":t[1]||(t[1]=e=>s.scenarioConfig.populationGrowth=e),min:.5,max:2,step:.1},null,8,["modelValue"])]),g("div",Zt,[g("div",$t,[t[8]||(t[8]=g("label",null,"Technologiefortschritt",-1)),g("span",Yt,f(s.scenarioConfig.techProgress.toFixed(1)),1)]),g("div",Qt,f(s.getSliderDescription("tech",s.scenarioConfig.techProgress)),1),k(s.RangeSlider,{modelValue:s.scenarioConfig.techProgress,"onUpdate:modelValue":t[2]||(t[2]=e=>s.scenarioConfig.techProgress=e),min:.5,max:2,step:.1},null,8,["modelValue"])]),g("div",Jt,[g("div",Xt,[t[9]||(t[9]=g("label",null,"Wirtschaftliche Stabilit√§t",-1)),g("span",ea,f(s.scenarioConfig.economicGrowth.toFixed(1)),1)]),g("div",ta,f(s.getSliderDescription("economic",s.scenarioConfig.economicGrowth)),1),k(s.RangeSlider,{modelValue:s.scenarioConfig.economicGrowth,"onUpdate:modelValue":t[3]||(t[3]=e=>s.scenarioConfig.economicGrowth=e),min:.5,max:1.8,step:.1},null,8,["modelValue"])])]),g("div",aa,[g("div",sa,[k(s.BaseButton,{onClick:s.runSimulation,disabled:s.isLoading,variant:"primary"},{default:_(()=>[s.isLoading?(w(),C(s.LoadingSpinner,{key:0,size:"sm"})):v("",!0),P(" "+f(s.isLoading?"Simuliert...":"Simulation starten"),1)]),_:1},8,["onClick","disabled"]),k(s.BaseButton,{onClick:s.resetConfig,variant:"outline"},{default:_(()=>t[10]||(t[10]=[P(" Zur√ºcksetzen ")])),_:1,__:[10]})]),s.hasConfigChanged?(w(),p("div",ra," ‚ö†Ô∏è Parameter ge√§ndert - Simulation neu starten ")):v("",!0)])]),s.simulationResults?(w(),p("div",na,[g("div",la,[t[15]||(t[15]=g("h3",{class:"section-title"},"Simulationsergebnisse",-1)),g("div",ia,[g("span",oa,[t[12]||(t[12]=g("strong",null,"Szenario:",-1)),P(" "+f(s.simulationResults.scenario),1)]),g("span",ca,[t[13]||(t[13]=g("strong",null,"Methode:",-1)),P(" "+f(s.simulationResults.dataSource),1)]),s.simulationResults.simulationDetails?(w(),p("span",da,[t[14]||(t[14]=g("strong",null,"Details:",-1)),P(" "+f(s.simulationResults.simulationDetails.totalPaths)+" Pfade, "+f(s.simulationResults.simulationDetails.confidenceLevel)+" Konfidenz, "+f(s.simulationResults.simulationDetails.timeHorizon),1)])):v("",!0)])]),g("div",ua,[g("div",ha,[t[16]||(t[16]=g("div",{class:"result-header"},[g("h4",null,"Produktions√§nderung"),g("span",{class:"result-icon"},"üåæ")],-1)),g("div",{class:x(["result-value",s.getChangeClass(s.simulationResults.productionChange)])},f(s.formatChange(s.simulationResults.productionChange))+"% ",3),g("p",ma,f(s.getProductionDescription(s.simulationResults.productionChange)),1)]),g("div",pa,[t[17]||(t[17]=g("div",{class:"result-header"},[g("h4",null,"Ern√§hrungssicherheit"),g("span",{class:"result-icon"},"üçΩÔ∏è")],-1)),g("div",{class:x(["result-value",s.getFoodSecurityClass(s.simulationResults.foodSecurity)])},f(s.simulationResults.foodSecurity)+"% ",3),g("p",ga,f(s.getFoodSecurityDescription(s.simulationResults.foodSecurity)),1)]),g("div",va,[t[18]||(t[18]=g("div",{class:"result-header"},[g("h4",null,"Umweltauswirkung"),g("span",{class:"result-icon"},"üåç")],-1)),g("div",{class:x(["result-value",s.getEnvironmentClass(s.simulationResults.environmentImpact)])},f(s.formatChange(s.simulationResults.environmentImpact))+"% ",3),g("p",fa,f(s.getEnvironmentDescription(s.simulationResults.environmentImpact)),1)]),g("div",ya,[t[19]||(t[19]=g("div",{class:"result-header"},[g("h4",null,"Wirtschaftlicher Effekt"),g("span",{class:"result-icon"},"üí∞")],-1)),g("div",{class:x(["result-value",s.getChangeClass(s.simulationResults.economicImpact)])},f(s.formatChange(s.simulationResults.economicImpact))+"% ",3),g("p",ba,f(s.getEconomicDescription(s.simulationResults.economicImpact)),1)])]),g("div",ka,[k(s.SimulationChart,{data:s.simulationResults.timeSeriesData,config:s.chartConfig,onScenarioSelect:s.handleScenarioSelect},null,8,["data","config"])])])):v("",!0),s.simulationResults||s.isLoading?v("",!0):(w(),p("div",_a,t[20]||(t[20]=[g("div",{class:"empty-icon"},"‚öôÔ∏è",-1),g("h3",null,"Simulation bereit",-1),g("p",null,"Konfigurieren Sie die Parameter und starten Sie eine Simulation.",-1)])))]))])]),_:1,__:[21]})])}],["__scopeId","data-v-06f180c9"],["__file","SimulationPanel.vue"]]),wa=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"})),xa={class:"ml-panel"},Ca={class:"panel-controls"},Pa={class:"filters-grid"},Ma={class:"filter-group"},za={class:"filter-group"},Ea={class:"filter-group"},Da={class:"filter-group"},Oa={class:"panel-content"},Aa={key:0,class:"error-container"},Fa={key:1,class:"loading-container"},La={key:2,class:"predictions-content"},Ra={key:0,class:"forecast-info"},Ba={class:"info-title"},Va={class:"info-grid"},Ga={class:"info-item"},Ta={class:"info-value"},Wa={class:"info-item"},ja={class:"info-value"},Ia={class:"model-stats"},Na={key:0,class:"model-warning"},qa={key:1,class:"ensemble-info"},Ka={class:"stats-grid"},Ua={class:"stat-card"},Ha={key:0,class:"stat-help text-xs text-gray-500 mt-1"},Za={class:"stat-card"},$a={class:"stat-value"},Ya={key:0,class:"stat-help text-xs text-gray-500 mt-1"},Qa={class:"stat-card"},Ja={class:"stat-value"},Xa={key:0,class:"stat-help text-xs text-gray-500 mt-1"},es={class:"stat-card"},ts={class:"stat-label"},as={class:"stat-value text-green-600"},ss={key:0,class:"stat-help text-xs text-gray-500 mt-1"},rs={class:"chart-container"},ns={key:1,class:"insights-section"},ls={class:"insights-grid"},is={class:"insight-card"},os={class:"insight-content"},cs={class:"insight-card"},ds={class:"insight-content"},us={class:"insight-card"},hs={class:"insight-content"},ms={class:"insight-card"},ps={class:"insight-content"},gs={class:"predictions-table"},vs={class:"table-container"},fs={class:"predictions-table-element"},ys={class:"reliability-bar"},bs={class:"reliability-text"},ks={key:3,class:"empty-state"};const _s=R({__name:"MLPanel",setup(t,{expose:a}){a();const s=e(),{handleError:r,wrapAsync:l}=L(),i=c("global"),o=c(""),h=c("linear"),p=c([]),g=c({}),v=c(!1),f=c(null),y=c(null),b=c([]),k=d(()=>null!==f.value),_=d(()=>[{value:"global",label:"Globale Prognosen"},{value:"regional",label:"Regionale Prognosen"},{value:"country",label:"L√§nder-spezifische Prognosen"}]),S=d(()=>b.value.map(e=>{const t=e.file.replace(".json","");let a=e.title||e.scenario||e.file;if("string"==typeof a){const e=t.replace(/_forecast$/,"");let s="",r="";if(e.startsWith("global_"))s=e.replace("global_",""),r="Globale";else if(e.startsWith("world_"))s=e.replace("world_",""),r="Welt";else{const t=e.split("_");for(let e=t.length-1;e>=1;e--){const a=t.slice(e).join("_");if(Xe[a]||a.includes("and")||a.includes("&")){s=a,r=t.slice(0,e).join("_").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");break}}!s&&t.length>1&&(s=t[t.length-1],r=t.slice(0,-1).join("_").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "))}if(s){a=`${r} ${at(s)} Prognose`}}return{value:t,label:a}})),w=d(()=>[{value:"linear",label:"Lineare Regression"},{value:"polynomial",label:"Polynomiale Regression"},{value:"ensemble",label:"Ensemble (Linear + Polynomial)"}]),x=d(()=>({width:"100%",height:500,margin:{top:20,right:30,bottom:40,left:80},showConfidenceInterval:!0,showHistorical:!0,showTrend:!0,interactive:!0,animated:!0})),C=l(async()=>{var e,t;f.value=null,v.value=!0;try{const a=await s.loadMLForecast(o.value);if(a){if(y.value=a,a.model_performance){null==(e=a.model_performance.linear)||e.r2_score,null==(t=a.model_performance.polynomial)||t.r2_score}let s=[];"ensemble"===h.value&&a.ensemble_forecasts?s=a.ensemble_forecasts:a.forecasts&&a.forecasts[h.value]&&(s=a.forecasts[h.value]);const r=a.historical_data||[],n=r.length>0?r[r.length-1].year:(new Date).getFullYear()-1;if(p.value=s.map(e=>{const t="ensemble"===h.value,a=t?e.ensemble_mean:e.value;return{year:e.year,predicted_value:a,confidence_lower:t?e.model_min:e.confidence_lower,confidence_upper:t?e.model_max:e.confidence_upper,trend:P(e,n),reliability:t?100*e.model_agreement:100-e.uncertainty_percent,uncertainty_level:e.uncertainty_level||M(e.uncertainty_percent),model:h.value}}),a.model_performance&&a.model_performance[h.value]){const e=a.model_performance[h.value];g.value={accuracy:(100*(e.r2_score||0)).toFixed(1),rmse:Math.sqrt(e.mse||0).toFixed(0),mae:(e.mae||0).toFixed(0),r2:(e.r2_score||0).toFixed(3)}}else if("ensemble"===h.value&&a.model_performance){const e=Object.values(a.model_performance);if(e.length>0){const t=e.reduce((e,t)=>e+(t.r2_score||0),0)/e.length,a=e.reduce((e,t)=>e+(t.mse||0),0)/e.length,s=e.reduce((e,t)=>e+(t.mae||0),0)/e.length;g.value={accuracy:(100*t).toFixed(1),rmse:Math.sqrt(a).toFixed(0),mae:s.toFixed(0),r2:t.toFixed(3)}}else{const e=p.value.reduce((e,t)=>e+(t.reliability||0),0)/p.value.length;g.value={accuracy:e.toFixed(1),rmse:"Ensemble",mae:"Kombination",r2:"Gemittelt"}}}else g.value={accuracy:"N/A",rmse:"N/A",mae:"N/A",r2:"N/A"}}}catch(a){f.value=a,p.value=[],g.value={}}finally{v.value=!1}},{component:"MLPanel",operation:"loadPredictions"}),P=(e,t)=>e.years_ahead&&0!==e.years_ahead?10*((e.value||e.ensemble_mean||0)/1e5-1):0,M=e=>e<30?"low":e<60?"medium":"high",F=d(()=>{var e;if(!y.value)return[];return[...(null==(e=y.value.historical_data)?void 0:e.map(e=>({year:e.year,value:e.value,predicted_value:e.value,type:"historical"})).filter(e=>null!=e.value&&e.value>0))||[],...p.value.filter(e=>null!=e.predicted_value&&e.predicted_value>0).map(e=>({...e,value:e.predicted_value,type:"prediction"}))]});m([o,h],()=>{o.value&&h.value&&C()},{deep:!0});const R=l(async()=>{try{let e;switch(i.value){case"global":e=await s.loadMLGlobalIndex();break;case"regional":e=await s.loadMLRegionalIndex();break;case"country":e=await s.loadMLCountryIndex()}if(e&&(e.forecasts||e.files)){const t=e.forecasts||e.files;Array.isArray(t)&&"string"==typeof t[0]?b.value=t.map(e=>({file:e,title:e.replace(".json","").replace(/_/g," ").replace(/global /i,"").replace(/forecast/i,"").trim().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})):b.value=t,b.value.length>0&&!o.value&&(o.value=b.value[0].file.replace(".json",""))}else b.value=[]}catch(e){b.value=[]}},{component:"MLPanel",operation:"loadAvailableForecasts"});u(async()=>{try{await s.loadMLComprehensiveIndex()}catch(e){}await R(),o.value&&await C()});const B={dataStore:s,handleErrorUtil:r,wrapAsync:l,selectedForecastType:i,selectedForecast:o,selectedModel:h,predictions:p,modelStats:g,isLoading:v,error:f,forecastData:y,availableForecasts:b,hasError:k,forecastTypeOptions:_,forecastOptions:S,modelOptions:w,chartConfig:x,loadPredictions:C,calculateTrend:P,getUncertaintyLevel:M,handleError:e=>{f.value=e,r(e,{component:"MLPanel",action:"component_error"})},handlePredictionSelect:e=>{},handleConfidenceToggle:e=>{},getFormattedForecastTitle:()=>{if(!y.value||!o.value)return"Produktionsprognose";const e=o.value.match(/(?:global_|world_|[a-z_]+_)?([a-z_&]+)(?:_forecast)?$/i);if(e){const t=e[1],a=at(t);if(o.value.startsWith("global_"))return`Globale ${a} Produktionsprognose`;if(o.value.startsWith("world_"))return`Welt ${a} Produktionsprognose`;return`${o.value.replace(`_${t}_forecast`,"").replace(`_${t}`,"").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")} ${a} Produktionsprognose`}return y.value.title||"Produktionsprognose"},formatValue:e=>new Intl.NumberFormat("de-DE",{maximumFractionDigits:0}).format(e),formatTrend:e=>`${e>0?"+":""}${e.toFixed(1)}%`,getTrendClass:e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-600",getReliabilityClass:e=>e>=90?"bg-green-500":e>=75?"bg-yellow-500":"bg-red-500",getModelLabel:e=>({linear:"Lineare Regression",polynomial:"Polynomiale Regression",ensemble:"Ensemble-Modell"}[e]||e),getStatsExplanation:e=>"ensemble"===e?{r2:"Durchschnittlicher R¬≤ Score der Einzelmodelle",rmse:"Durchschnittliche Wurzel der mittleren Quadratfehler",mae:"Durchschnittlicher mittlerer absoluter Fehler",accuracy:"Durchschnittliche Modell√ºbereinstimmung (%)"}:{r2:"Bestimmtheitsma√ü (R¬≤) - Erkl√§rt Varianz",rmse:"Wurzel der mittleren Quadratfehler",mae:"Mittlerer absoluter Fehler",accuracy:"Modellgenauigkeit basierend auf R¬≤"},getR2Class:e=>{const t=parseFloat(e);return isNaN(t)?"":t<0?"text-red-800 font-bold":t>=.8?"text-green-600":t>=.6?"text-yellow-600":t>=.3?"text-orange-600":"text-red-600"},getGrowthInsight:()=>{if(!p.value.length||!y.value)return"Keine Daten verf√ºgbar";const e=p.value[0].predicted_value,t=((p.value[p.value.length-1].predicted_value-e)/e*100).toFixed(1);return t>0?`Die Produktion wird voraussichtlich um ${t}% bis 2035 steigen.`:`Die Produktion wird voraussichtlich um ${Math.abs(t)}% bis 2035 sinken.`},getAccuracyInsight:()=>{if(!g.value.r2)return"Keine Genauigkeitsdaten verf√ºgbar";const e=parseFloat(g.value.r2);return e<0?`WARNUNG: Das ${"linear"===h.value?"lineare":"polynomiale"} Modell ist ungeeignet f√ºr diese Daten (R¬≤ = ${e.toFixed(3)}). Die Vorhersagen sind sehr unzuverl√§ssig. Versuchen Sie ein anderes Modell.`:e>=.8?"Das Modell zeigt eine sehr hohe Prognosegenauigkeit mit starker Korrelation zu historischen Daten.":e>=.6?"Das Modell zeigt eine gute Prognosegenauigkeit mit moderater Korrelation zu historischen Daten.":e>=.3?"Das Modell zeigt moderate Genauigkeit. Die Prognosen sollten als grobe Sch√§tzungen betrachtet werden.":"Das Modell zeigt begrenzte Genauigkeit. Die Prognosen sollten mit gro√üer Vorsicht interpretiert werden."},getUncertaintyInsight:()=>{if(!p.value.length)return"Keine Unsicherheitsdaten verf√ºgbar";const e=p.value.filter(e=>e.uncertainty_level).reduce((e,t)=>e+("low"===t.uncertainty_level?1:"medium"===t.uncertainty_level?2:3),0)/p.value.length;return e<1.5?"Die Prognosen haben eine niedrige Unsicherheit und sind relativ zuverl√§ssig.":e<2.5?"Die Prognosen haben eine moderate Unsicherheit. Langfristige Vorhersagen sollten regelm√§√üig aktualisiert werden.":"Die Prognosen haben eine hohe Unsicherheit, besonders f√ºr sp√§tere Jahre. Externe Faktoren k√∂nnen die Ergebnisse stark beeinflussen."},getGlobalInsight:()=>{if(!o.value)return"Keine globalen Kontextdaten verf√ºgbar";const e=o.value.match(/(?:global_|world_|[a-z_]+_)?([a-z_&]+)(?:_forecast)?$/i);if(e){const t=e[1].toLowerCase();return t.includes("wheat")?"Weizen ist eines der wichtigsten Grundnahrungsmittel weltweit und ern√§hrt Milliarden von Menschen.":t.includes("maize")?"Mais ist sowohl f√ºr die menschliche Ern√§hrung als auch als Tierfutter von entscheidender Bedeutung.":t.includes("rice")?"Reis ist das Hauptnahrungsmittel f√ºr mehr als die H√§lfte der Weltbev√∂lkerung.":t.includes("milk")?"Milchprodukte sind eine wichtige Proteinquelle und unterst√ºtzen die Ern√§hrungssicherheit weltweit.":t.includes("soyabeans")||t.includes("soyabean")?"Sojabohnen sind eine wichtige Protein- und √ñlquelle und werden weltweit als Viehfutter verwendet.":t.includes("sugar")?"Zucker und S√º√üstoffe sind wichtige Energielieferanten und haben gro√üen Einfluss auf die globale Ern√§hrung.":t.includes("vegetable")||t.includes("fruits")?"Obst und Gem√ºse sind essentiell f√ºr eine ausgewogene Ern√§hrung und liefern wichtige Vitamine und Mineralstoffe.":t.includes("meat")||t.includes("bovine")||t.includes("pigmeat")||t.includes("poultry")?"Fleischprodukte sind wichtige Protein- und N√§hrstoffquellen, deren Produktion erhebliche Umweltauswirkungen hat.":t.includes("cassava")?"Maniok ist ein wichtiges Grundnahrungsmittel in tropischen Regionen und eine wichtige Kohlenhydratquelle.":t.includes("potatoes")?"Kartoffeln sind weltweit ein wichtiges Grundnahrungsmittel und eine bedeutende Quelle f√ºr Kohlenhydrate.":t.includes("fish")||t.includes("seafood")?"Fisch und Meeresfr√ºchte sind wichtige Protein- und Omega-3-Quellen f√ºr Milliarden von Menschen.":"Diese Produktkategorie spielt eine wichtige Rolle f√ºr die globale Ern√§hrungssicherheit und nachhaltige Landwirtschaft."}return"Diese Produktkategorie spielt eine wichtige Rolle f√ºr die globale Ern√§hrungssicherheit."},chartData:F,loadAvailableForecasts:R,ref:c,computed:d,watch:m,onMounted:u,get useDataStore(){return e},get useErrorHandling(){return L},get getMLGermanName(){return at},get productMappings(){return Xe},ErrorBoundary:A,ErrorDisplay:O,LoadingSpinner:D,BaseButton:E,SearchableSelect:z,MLChart:n};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}},[["render",function(e,t,a,s,r,n){return w(),p("div",xa,[k(s.ErrorBoundary,{onError:s.handleError},{default:_(()=>[t[30]||(t[30]=g("div",{class:"panel-header"},[g("h2",{class:"panel-title"},"ML Prognosen"),g("p",{class:"panel-description"}," Machine Learning Vorhersagen f√ºr landwirtschaftliche Produktion ")],-1)),g("div",Ca,[g("div",Pa,[g("div",Ma,[t[3]||(t[3]=g("label",null,"Prognosentyp",-1)),k(s.SearchableSelect,{modelValue:s.selectedForecastType,"onUpdate:modelValue":[t[0]||(t[0]=e=>s.selectedForecastType=e),s.loadAvailableForecasts],options:s.forecastTypeOptions,placeholder:"Prognosentyp ausw√§hlen..."},null,8,["modelValue","options","onUpdate:modelValue"])]),g("div",za,[t[4]||(t[4]=g("label",null,"Prognose",-1)),k(s.SearchableSelect,{modelValue:s.selectedForecast,"onUpdate:modelValue":t[1]||(t[1]=e=>s.selectedForecast=e),options:s.forecastOptions,placeholder:"Prognose ausw√§hlen...",disabled:0===s.availableForecasts.length},null,8,["modelValue","options","disabled"])]),g("div",Ea,[t[5]||(t[5]=g("label",null,"Modell",-1)),k(s.SearchableSelect,{modelValue:s.selectedModel,"onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedModel=e),options:s.modelOptions,placeholder:"Modell ausw√§hlen..."},null,8,["modelValue","options"])]),g("div",Da,[t[6]||(t[6]=g("label",{class:"invisible"},"Aktion",-1)),k(s.BaseButton,{onClick:s.loadPredictions,disabled:s.isLoading||!s.selectedForecast,class:"w-full"},{default:_(()=>[s.isLoading?(w(),C(s.LoadingSpinner,{key:0,size:"sm"})):v("",!0),P(" "+f(s.isLoading?"L√§dt...":"Prognosen laden"),1)]),_:1},8,["onClick","disabled"])])])]),g("div",Oa,[s.hasError?(w(),p("div",Aa,[k(s.ErrorDisplay,{error:s.error,title:"Fehler beim Laden der ML-Prognosen",showRetry:!0,onRetry:s.loadPredictions},null,8,["error","onRetry"])])):s.isLoading?(w(),p("div",Fa,[k(s.LoadingSpinner,{size:"lg"}),t[7]||(t[7]=g("p",{class:"loading-text"},"Lade ML-Prognosen...",-1))])):s.predictions.length>0?(w(),p("div",La,[s.forecastData?(w(),p("div",Ra,[g("h3",Ba,f(s.getFormattedForecastTitle()),1),g("div",Va,[g("div",Ga,[t[8]||(t[8]=g("span",{class:"info-label"},"Einheit:",-1)),g("span",Ta,f(s.forecastData.unit||"1000 t"),1)]),t[10]||(t[10]=g("div",{class:"info-item"},[g("span",{class:"info-label"},"Prognosezeitraum:"),g("span",{class:"info-value"},"2023 - 2035")],-1)),g("div",Wa,[t[9]||(t[9]=g("span",{class:"info-label"},"Modelltyp:",-1)),g("span",ja,f(s.getModelLabel(s.selectedModel)),1)]),t[11]||(t[11]=g("div",{class:"info-item"},[g("span",{class:"info-label"},"Konfidenzintervall:"),g("span",{class:"info-value"},"95%")],-1))])])):v("",!0),g("div",Ia,[t[17]||(t[17]=g("h3",{class:"stats-title"},"Modell-Performance",-1)),s.modelStats.r2&&parseFloat(s.modelStats.r2)<0?(w(),p("div",Na,t[12]||(t[12]=[g("p",{class:"warning-title"},"‚ö†Ô∏è Warnung: Schlechte Modellperformance",-1),g("p",{class:"warning-text"}," Das lineare Modell ist f√ºr diese Daten ungeeignet. Bitte wechseln Sie zum polynomialen oder Ensemble-Modell f√ºr bessere Vorhersagen. ",-1)]))):v("",!0),"ensemble"===s.selectedModel?(w(),p("div",qa,t[13]||(t[13]=[g("p",{class:"text-sm text-blue-600 dark:text-blue-400 mb-3"}," ‚ÑπÔ∏è Ensemble-Modell kombiniert Linear- und Polynomialregressionen f√ºr robustere Vorhersagen. ",-1)]))):v("",!0),g("div",Ka,[g("div",Ua,[t[14]||(t[14]=g("div",{class:"stat-label"},"R¬≤ Score",-1)),g("div",{class:x(["stat-value",s.getR2Class(s.modelStats.r2)])},f(s.modelStats.r2),3),"ensemble"===s.selectedModel?(w(),p("div",Ha," Durchschnitt der Einzelmodelle ")):v("",!0)]),g("div",Za,[t[15]||(t[15]=g("div",{class:"stat-label"},"RMSE",-1)),g("div",$a,f(s.modelStats.rmse),1),"ensemble"===s.selectedModel?(w(),p("div",Ya," Gemittelte Wurzel der mittleren Quadratfehler ")):v("",!0)]),g("div",Qa,[t[16]||(t[16]=g("div",{class:"stat-label"},"MAE",-1)),g("div",Ja,f(s.modelStats.mae),1),"ensemble"===s.selectedModel?(w(),p("div",Xa," Gemittelter mittlerer absoluter Fehler ")):v("",!0)]),g("div",es,[g("div",ts,f("ensemble"===s.selectedModel?"√úbereinstimmung":"Genauigkeit"),1),g("div",as,f(s.modelStats.accuracy)+"%",1),"ensemble"===s.selectedModel?(w(),p("div",ss," Modell√ºbereinstimmung zwischen Linear- und Polynomialregression ")):v("",!0)])])]),g("div",rs,[k(s.MLChart,{data:s.chartData,config:s.chartConfig,onPredictionSelect:s.handlePredictionSelect,onConfidenceToggle:s.handleConfidenceToggle},null,8,["data","config"])]),s.forecastData?(w(),p("div",ns,[t[26]||(t[26]=g("h3",{class:"insights-title"},"Prognose-Einblicke",-1)),g("div",ls,[g("div",is,[t[19]||(t[19]=g("div",{class:"insight-icon"},"üìà",-1)),g("div",os,[t[18]||(t[18]=g("h4",null,"Wachstumstrend",-1)),g("p",null,f(s.getGrowthInsight()),1)])]),g("div",cs,[t[21]||(t[21]=g("div",{class:"insight-icon"},"üéØ",-1)),g("div",ds,[t[20]||(t[20]=g("h4",null,"Prognosegenauigkeit",-1)),g("p",null,f(s.getAccuracyInsight()),1)])]),g("div",us,[t[23]||(t[23]=g("div",{class:"insight-icon"},"‚ö†Ô∏è",-1)),g("div",hs,[t[22]||(t[22]=g("h4",null,"Unsicherheitsfaktoren",-1)),g("p",null,f(s.getUncertaintyInsight()),1)])]),g("div",ms,[t[25]||(t[25]=g("div",{class:"insight-icon"},"üåç",-1)),g("div",ps,[t[24]||(t[24]=g("h4",null,"Globale Bedeutung",-1)),g("p",null,f(s.getGlobalInsight()),1)])])])])):v("",!0),g("div",gs,[t[28]||(t[28]=g("h3",{class:"table-title"},"Detaillierte Prognosen",-1)),g("div",vs,[g("table",fs,[t[27]||(t[27]=g("thead",null,[g("tr",null,[g("th",null,"Jahr"),g("th",null,"Prognose"),g("th",null,"Konfidenzintervall"),g("th",null,"Trend"),g("th",null,"Zuverl√§ssigkeit")])],-1)),g("tbody",null,[(w(!0),p(y,null,b(s.predictions,e=>(w(),p("tr",{key:e.year},[g("td",null,f(e.year),1),g("td",null,f(s.formatValue(e.predicted_value)),1),g("td",null,f(s.formatValue(e.confidence_lower))+" - "+f(s.formatValue(e.confidence_upper)),1),g("td",null,[g("span",{class:x(s.getTrendClass(e.trend))},f(s.formatTrend(e.trend)),3)]),g("td",null,[g("div",ys,[g("div",{class:x(["reliability-fill",s.getReliabilityClass(e.reliability)]),style:M({width:`${e.reliability}%`})},null,6),g("span",bs,f(e.reliability)+"%",1)])])]))),128))])])])])])):(w(),p("div",ks,t[29]||(t[29]=[g("div",{class:"empty-icon"},"ü§ñ",-1),g("h3",null,"Keine Prognosen geladen",-1),g("p",null,'W√§hlen Sie einen Prognosentyp und eine spezifische Prognose aus, dann klicken Sie auf "Prognosen laden".',-1)])))])]),_:1,__:[30]})])}],["__scopeId","data-v-1a9fec9a"],["__file","MLPanel.vue"]]),Ss=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"})),ws={class:"structural-panel"},xs={class:"panel-controls"},Cs={class:"analysis-tabs"},Ps={class:"panel-content"},Ms={key:0,class:"error-container"},zs={key:1,class:"loading-container"},Es={key:2,class:"analysis-content"},Ds={key:0,class:"network-section"},Os={class:"controls-row"},As={class:"control-group"},Fs={class:"control-group"},Ls={key:0,class:"network-visualization h-96"},Rs={key:1,class:"network-metrics"},Bs={class:"metrics-grid"},Vs={class:"metric-card"},Gs={class:"metric-value"},Ts={class:"metric-card"},Ws={class:"metric-value"},js={class:"metric-card"},Is={class:"metric-value"},Ns={class:"metric-card"},qs={class:"metric-value"},Ks={class:"metric-card"},Us={class:"metric-value"},Hs={class:"metric-card"},Zs={class:"metric-value"},$s={key:1,class:"clusters-section"},Ys={class:"controls-row"},Qs={class:"control-group"},Js={class:"control-group"},Xs={key:0,class:"cluster-results"},er={class:"cluster-visualization"},tr={class:"cluster-details"},ar={class:"cluster-list"},sr={class:"cluster-header"},rr={class:"cluster-size"},nr={class:"cluster-members"},lr={key:0,class:"more-members"},ir={class:"cluster-stats"},or={class:"stat"},cr={class:"stat-value"},dr={class:"stat"},ur={class:"stat-value"},hr={key:2,class:"hierarchy-section"},mr={class:"controls-row"},pr={class:"control-group"},gr={key:0,class:"hierarchy-visualization"},vr={key:1,class:"hierarchy-metrics"},fr={class:"hierarchy-stats"},yr={class:"stat-item"},br={class:"stat-value"},kr={class:"stat-item"},_r={class:"stat-value"},Sr={class:"stat-item"},wr={class:"stat-value"};const xr=R({__name:"StructuralPanel",setup(t,{expose:a}){a();const s=e(),{handleError:r,wrapAsync:n}=L(),i=c("network"),o=c(!1),u=c(null),h=c({analysisType:"trade",threshold:.1}),p=c({method:"kmeans",numClusters:5}),g=c({type:"production"}),v=c(null),f=c(null),y=c(null),b=c(null),k=c(null),_=d(()=>null!==u.value),S=d(()=>[{id:"network",label:"Netzwerk-Analyse"},{id:"clusters",label:"Cluster-Analyse"},{id:"hierarchy",label:"Hierarchie-Analyse"}]),w=d(()=>[{value:"trade",label:"Handelsbeziehungen"},{value:"production",label:"Produktions√§hnlichkeit"},{value:"dependency",label:"Abh√§ngigkeiten"},{value:"competition",label:"Wettbewerb"}]),x=d(()=>[{value:"kmeans",label:"K-Means"},{value:"hierarchical",label:"Hierarchisch"},{value:"dbscan",label:"DBSCAN"},{value:"spectral",label:"Spektral"}]),C=d(()=>[{value:"production",label:"Produktionshierarchie"},{value:"trade",label:"Handelshierarchie"},{value:"geographic",label:"Geografische Hierarchie"}]),P=d(()=>({type:"network",width:800,height:600,showLabels:!0,enableForce:!0,nodeRadius:8,linkWidth:2,interactive:!0})),M=d(()=>({type:"scatter",width:800,height:400,showClusters:!0,showCentroids:!0,interactive:!0})),R=d(()=>({type:"tree",width:800,height:500,orientation:"vertical",showLabels:!0,collapsible:!0,interactive:!0})),B=n(async()=>{u.value=null,o.value=!0;try{const e=await s.loadNetworkData();e&&e.nodes&&e.links?(v.value=e,f.value=W(e)):(v.value=T(e),f.value=W(v.value))}catch(e){u.value=e}finally{o.value=!1}},{component:"StructuralPanel",operation:"loadAnalysis"}),V=n(async()=>{u.value=null,o.value=!0;try{const t=new Map,a=["maize_and_products","rice_and_products","wheat_and_products","vegetables","fruits_-_excluding_wine"],r=2022;for(const u of a)try{const e=await s.loadProductionData(u,r);e&&t.set(u,e)}catch(e){}const n=new Set;t.forEach(e=>{e.features&&e.features.forEach(e=>{var t;(null==(t=e.properties)?void 0:t.country)&&n.add(e.properties.country)})});const l=Array.from(n),i=Math.min(p.value.numClusters,l.length),o=[],c=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7"],d=Math.ceil(l.length/i);for(let e=0;e<i;e++){const t=e*d,a=Math.min((e+1)*d,l.length),s=l.slice(t,a);s.length>0&&o.push({id:e+1,color:c[e%c.length],members:s,cohesion:.7+.3*Math.random(),separation:.5+.4*Math.random()})}y.value={clusters:o,visualization:j(o)}}catch(e){u.value=e}finally{o.value=!1}},{component:"StructuralPanel",operation:"performClustering"}),G=n(async()=>{u.value=null,o.value=!0;try{const e=await s.loadSummaryData();if(e&&e.production_by_category){const t={name:"Global Agriculture",children:[]},a={};Object.entries(e.production_by_category).forEach(([e,t])=>{a[t.category||"Other"]||(a[t.category||"Other"]={name:t.category||"Other",children:[]}),a[t.category||"Other"].children.push({name:e,size:t.total_production||100,value:t.total_production})}),t.children=Object.values(a),b.value=t;const s=3,r=Object.keys(a).length,n=Object.values(a).reduce((e,t)=>e+t.children.length,0);k.value={levels:s,width:r,balance:Math.min(r/n,1)}}else b.value=I(),k.value={levels:4,width:12,balance:.85}}catch(e){u.value=e}finally{o.value=!1}},{component:"StructuralPanel",operation:"buildHierarchy"}),T=e=>{const t=[],a=[];for(let s=0;s<20;s++)t.push({id:`node-${s}`,name:`Node ${s}`,value:100*Math.random(),group:Math.floor(s/5)});for(let s=0;s<30;s++){const e=Math.floor(20*Math.random()),t=Math.floor(20*Math.random());e!==t&&a.push({source:`node-${e}`,target:`node-${t}`,value:10*Math.random()})}return{nodes:t,links:a}},W=e=>({nodeCount:e.nodes.length,linkCount:e.links.length,density:2*e.links.length/(e.nodes.length*(e.nodes.length-1)),clustering:.3+.4*Math.random(),diameter:Math.floor(5*Math.random())+3,modularity:.2+.6*Math.random()}),j=e=>{const t=[];return e.forEach((e,a)=>{const s=a%3*300+150,r=200*Math.floor(a/3)+100;e.members.forEach((a,n)=>{t.push({x:s+100*(Math.random()-.5),y:r+100*(Math.random()-.5),cluster:e.id,name:a,color:e.color})})}),t},I=()=>({name:"Global Agriculture",children:[{name:"Cereals",children:[{name:"Wheat",size:100},{name:"Rice",size:90},{name:"Maize",size:120}]},{name:"Vegetables",children:[{name:"Tomatoes",size:60},{name:"Onions",size:40},{name:"Potatoes",size:80}]},{name:"Fruits",children:[{name:"Apples",size:50},{name:"Bananas",size:70},{name:"Oranges",size:45}]}]});m(i,e=>{"network"!==e||v.value||B()});const N={dataStore:s,handleErrorUtil:r,wrapAsync:n,activeTab:i,isLoading:o,error:u,networkConfig:h,clusterConfig:p,hierarchyConfig:g,networkData:v,networkMetrics:f,clusterResults:y,hierarchyData:b,hierarchyMetrics:k,hasError:_,analysisTabs:S,analysisTypeOptions:w,clusterMethodOptions:x,hierarchyTypeOptions:C,networkChartConfig:P,clusterChartConfig:M,hierarchyChartConfig:R,loadAnalysis:B,performClustering:V,buildHierarchy:G,processNetworkData:T,calculateNetworkMetrics:W,generateClusterVisualization:j,generateHierarchyData:I,handleError:e=>{u.value=e,r(e,{component:"StructuralPanel",action:"component_error"})},handleNodeSelect:e=>{},handleLinkSelect:e=>{},handleAnalysisChange:e=>{h.value.analysisType=e},handleClusterSelect:e=>{},handleNodeExpand:e=>{},handleLevelSelect:e=>{},ref:c,computed:d,watch:m,get useDataStore(){return e},get useErrorHandling(){return L},ErrorBoundary:A,ErrorDisplay:O,LoadingSpinner:D,BaseButton:E,SearchableSelect:z,RangeSlider:F,StructuralChart:l};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}},[["render",function(e,t,a,s,r,n){return w(),p("div",ws,[k(s.ErrorBoundary,{onError:s.handleError},{default:_(()=>[t[28]||(t[28]=g("div",{class:"panel-header"},[g("h2",{class:"panel-title"},"Strukturanalyse"),g("p",{class:"panel-description"}," Netzwerk- und Strukturanalyse der globalen Landwirtschaft ")],-1)),g("div",xs,[g("div",Cs,[(w(!0),p(y,null,b(s.analysisTabs,e=>(w(),C(s.BaseButton,{key:e.id,onClick:t=>s.activeTab=e.id,variant:s.activeTab===e.id?"primary":"outline-primary",size:"sm"},{default:_(()=>[P(f(e.label),1)]),_:2},1032,["onClick","variant"]))),128))])]),g("div",Ps,[s.hasError?(w(),p("div",Ms,[k(s.ErrorDisplay,{error:s.error,title:"Fehler bei der Strukturanalyse",showRetry:!0,onRetry:s.loadAnalysis},null,8,["error","onRetry"])])):s.isLoading?(w(),p("div",zs,[k(s.LoadingSpinner,{size:"lg"}),t[5]||(t[5]=g("p",{class:"loading-text"},"F√ºhre Strukturanalyse durch...",-1))])):(w(),p("div",Es,["network"===s.activeTab?(w(),p("div",Ds,[g("div",Os,[g("div",As,[t[6]||(t[6]=g("label",null,"Analyse-Typ",-1)),k(s.SearchableSelect,{modelValue:s.networkConfig.analysisType,"onUpdate:modelValue":t[0]||(t[0]=e=>s.networkConfig.analysisType=e),options:s.analysisTypeOptions},null,8,["modelValue","options"])]),g("div",Fs,[t[7]||(t[7]=g("label",null,"Schwellenwert",-1)),k(s.RangeSlider,{modelValue:s.networkConfig.threshold,"onUpdate:modelValue":t[1]||(t[1]=e=>s.networkConfig.threshold=e),min:0,max:1,step:.1},null,8,["modelValue"])]),k(s.BaseButton,{variant:"primary",onClick:s.loadAnalysis},{default:_(()=>t[8]||(t[8]=[P(" Analysieren ")])),_:1,__:[8]},8,["onClick"])]),s.networkData?(w(),p("div",Ls,[k(s.StructuralChart,{data:s.networkData,"analysis-type":s.networkConfig.analysisType,"selected-region":"global",onNodeClick:s.handleNodeSelect,onAnalysisChange:s.handleAnalysisChange},null,8,["data","analysis-type"])])):v("",!0),s.networkMetrics?(w(),p("div",Rs,[t[15]||(t[15]=g("h3",{class:"metrics-title"},"Netzwerk-Metriken",-1)),g("div",Bs,[g("div",Vs,[t[9]||(t[9]=g("div",{class:"metric-label"},"Knoten",-1)),g("div",Gs,f(s.networkMetrics.nodeCount),1)]),g("div",Ts,[t[10]||(t[10]=g("div",{class:"metric-label"},"Verbindungen",-1)),g("div",Ws,f(s.networkMetrics.linkCount),1)]),g("div",js,[t[11]||(t[11]=g("div",{class:"metric-label"},"Dichte",-1)),g("div",Is,f(s.networkMetrics.density.toFixed(3)),1)]),g("div",Ns,[t[12]||(t[12]=g("div",{class:"metric-label"},"Clustering",-1)),g("div",qs,f(s.networkMetrics.clustering.toFixed(3)),1)]),g("div",Ks,[t[13]||(t[13]=g("div",{class:"metric-label"},"Durchmesser",-1)),g("div",Us,f(s.networkMetrics.diameter),1)]),g("div",Hs,[t[14]||(t[14]=g("div",{class:"metric-label"},"Modularit√§t",-1)),g("div",Zs,f(s.networkMetrics.modularity.toFixed(3)),1)])])])):v("",!0)])):v("",!0),"clusters"===s.activeTab?(w(),p("div",$s,[g("div",Ys,[g("div",Qs,[t[16]||(t[16]=g("label",null,"Cluster-Methode",-1)),k(s.SearchableSelect,{modelValue:s.clusterConfig.method,"onUpdate:modelValue":t[2]||(t[2]=e=>s.clusterConfig.method=e),options:s.clusterMethodOptions},null,8,["modelValue","options"])]),g("div",Js,[t[17]||(t[17]=g("label",null,"Anzahl Cluster",-1)),k(s.RangeSlider,{modelValue:s.clusterConfig.numClusters,"onUpdate:modelValue":t[3]||(t[3]=e=>s.clusterConfig.numClusters=e),min:2,max:10,step:1,"show-labels":!0},null,8,["modelValue"])]),k(s.BaseButton,{variant:"primary",onClick:s.performClustering},{default:_(()=>t[18]||(t[18]=[P(" Clustern ")])),_:1,__:[18]},8,["onClick"])]),s.clusterResults?(w(),p("div",Xs,[g("div",er,[k(s.StructuralChart,{data:s.clusterResults.visualization,config:s.clusterChartConfig,onClusterSelect:s.handleClusterSelect},null,8,["data","config"])]),g("div",tr,[t[21]||(t[21]=g("h3",{class:"details-title"},"Cluster-Details",-1)),g("div",ar,[(w(!0),p(y,null,b(s.clusterResults.clusters,e=>(w(),p("div",{key:e.id,class:"cluster-item",style:M({borderLeftColor:e.color})},[g("div",sr,[g("h4",null,"Cluster "+f(e.id),1),g("span",rr,f(e.members.length)+" Mitglieder",1)]),g("div",nr,[(w(!0),p(y,null,b(e.members.slice(0,5),e=>(w(),p("span",{key:e,class:"member-tag"},f(e),1))),128)),e.members.length>5?(w(),p("span",lr," +"+f(e.members.length-5)+" weitere ",1)):v("",!0)]),g("div",ir,[g("div",or,[t[19]||(t[19]=g("span",{class:"stat-label"},"Koh√§sion:",-1)),g("span",cr,f(e.cohesion.toFixed(2)),1)]),g("div",dr,[t[20]||(t[20]=g("span",{class:"stat-label"},"Separierung:",-1)),g("span",ur,f(e.separation.toFixed(2)),1)])])],4))),128))])])])):v("",!0)])):v("",!0),"hierarchy"===s.activeTab?(w(),p("div",hr,[g("div",mr,[g("div",pr,[t[22]||(t[22]=g("label",null,"Hierarchie-Typ",-1)),k(s.SearchableSelect,{modelValue:s.hierarchyConfig.type,"onUpdate:modelValue":t[4]||(t[4]=e=>s.hierarchyConfig.type=e),options:s.hierarchyTypeOptions},null,8,["modelValue","options"])]),k(s.BaseButton,{variant:"primary",onClick:s.buildHierarchy},{default:_(()=>t[23]||(t[23]=[P(" Hierarchie erstellen ")])),_:1,__:[23]},8,["onClick"])]),s.hierarchyData?(w(),p("div",gr,[k(s.StructuralChart,{data:s.hierarchyData,config:s.hierarchyChartConfig,onNodeExpand:s.handleNodeExpand,onLevelSelect:s.handleLevelSelect},null,8,["data","config"])])):v("",!0),s.hierarchyMetrics?(w(),p("div",vr,[t[27]||(t[27]=g("h3",{class:"metrics-title"},"Hierarchie-Metriken",-1)),g("div",fr,[g("div",yr,[t[24]||(t[24]=g("span",{class:"stat-label"},"Ebenen:",-1)),g("span",br,f(s.hierarchyMetrics.levels),1)]),g("div",kr,[t[25]||(t[25]=g("span",{class:"stat-label"},"Breite:",-1)),g("span",_r,f(s.hierarchyMetrics.width),1)]),g("div",Sr,[t[26]||(t[26]=g("span",{class:"stat-label"},"Balance:",-1)),g("span",wr,f(s.hierarchyMetrics.balance.toFixed(2)),1)])])])):v("",!0)])):v("",!0)]))])]),_:1,__:[28]})])}],["__scopeId","data-v-416b6899"],["__file","StructuralPanel.vue"]]),Cr=Object.freeze(Object.defineProperty({__proto__:null,default:xr},Symbol.toStringTag,{value:"Module"})),Pr={class:"process-panel"},Mr={class:"panel-controls"},zr={class:"process-tabs"},Er=["onClick"],Dr={class:"panel-content"},Or={key:0,class:"error-container"},Ar={key:1,class:"loading-container"},Fr={key:2,class:"process-content"},Lr={key:0,class:"discovery-section"},Rr={class:"controls-row"},Br={class:"control-group"},Vr={class:"control-group"},Gr={key:0,class:"process-visualization"},Tr={key:1,class:"process-stats"},Wr={class:"stats-grid"},jr={class:"stat-card"},Ir={class:"stat-value"},Nr={class:"stat-card"},qr={class:"stat-value"},Kr={class:"stat-card"},Ur={class:"stat-value"},Hr={class:"stat-card"},Zr={class:"stat-value"},$r={key:1,class:"conformance-section"},Yr={class:"controls-row"},Qr={class:"control-group"},Jr={key:0,class:"conformance-results"},Xr={class:"conformance-overview"},en={class:"conformance-score"},tn={class:"score-value"},an={class:"conformance-metrics"},sn={class:"metric-item"},rn={class:"metric-value"},nn={class:"metric-item"},ln={class:"metric-value"},on={class:"metric-item"},cn={class:"metric-value"},dn={class:"deviations-list"},un={class:"deviation-items"},hn={class:"deviation-header"},mn={class:"deviation-type"},pn={class:"deviation-count"},gn={class:"deviation-description"},vn={class:"deviation-actions"},fn={key:2,class:"enhancement-section"},yn={class:"controls-row"},bn={class:"control-group"},kn={key:0,class:"enhancement-results"},_n={class:"optimization-comparison"},Sn={class:"comparison-chart"},wn={class:"improvement-suggestions"},xn={class:"suggestion-items"},Cn={class:"suggestion-header"},Pn={class:"suggestion-title"},Mn={class:"suggestion-description"},zn={class:"suggestion-metrics"},En={class:"metric"},Dn={class:"metric-value"},On={class:"metric"},An={class:"metric-value"},Fn={class:"suggestion-actions"};const Ln=R({__name:"ProcessPanel",setup(e,{expose:t}){t();const{handleError:a,wrapAsync:s}=L(),r=c("discovery"),n=c(!1),l=c(null),o=c({processType:"supply_chain",timeRange:[2022,2023]}),u=c({referenceModel:"iso_standard"}),h=c({optimizationType:"time_optimization"}),m=c(null),p=c(null),g=c(null),v=c(null),f=d(()=>null!==l.value),y=d(()=>[{id:"discovery",label:"Prozess-Discovery"},{id:"conformance",label:"Konformit√§tspr√ºfung"},{id:"enhancement",label:"Prozess-Enhancement"}]),b=d(()=>[{value:"supply_chain",label:"Lieferkette"},{value:"production",label:"Produktion"},{value:"distribution",label:"Distribution"},{value:"quality_control",label:"Qualit√§tskontrolle"}]),k=d(()=>[{value:"iso_standard",label:"ISO Standard"},{value:"best_practice",label:"Best Practice"},{value:"custom_model",label:"Benutzerdefiniert"}]),_=d(()=>[{value:"time_optimization",label:"Zeitoptimierung"},{value:"cost_optimization",label:"Kostenoptimierung"},{value:"quality_optimization",label:"Qualit√§tsoptimierung"},{value:"resource_optimization",label:"Ressourcenoptimierung"}]),S=d(()=>({type:"process_flow",width:800,height:500,showMetrics:!0,showFrequencies:!0,interactive:!0})),w=d(()=>({type:"process_comparison",width:800,height:400,showBefore:!0,showAfter:!0,showImprovements:!0,interactive:!0})),x=s(async()=>{l.value=null,n.value=!0;try{await new Promise(e=>setTimeout(e,1500)),m.value=M(),p.value={activities:12,traces:1524,variants:47,avgDuration:14.5}}catch(e){l.value=e}finally{n.value=!1}},{component:"ProcessPanel",operation:"discoverProcesses"}),C=s(async()=>{l.value=null,n.value=!0;try{await new Promise(e=>setTimeout(e,2e3)),g.value={fitness:.85,precision:.78,recall:.92,f1Score:.84,deviations:[{id:1,type:"Skip Activity",count:23,severity:"medium",description:"Qualit√§tspr√ºfung wurde in 23 F√§llen √ºbersprungen"},{id:2,type:"Wrong Order",count:8,severity:"high",description:"Versand vor Qualit√§tskontrolle in 8 F√§llen"},{id:3,type:"Extra Activity",count:15,severity:"low",description:"Zus√§tzliche Nachkontrolle in 15 F√§llen"}]}}catch(e){l.value=e}finally{n.value=!1}},{component:"ProcessPanel",operation:"checkConformance"}),P=s(async()=>{l.value=null,n.value=!0;try{await new Promise(e=>setTimeout(e,1800)),v.value={comparison:R(),suggestions:[{id:1,title:"Parallelisierung der Qualit√§tskontrolle",description:"F√ºhren Sie Qualit√§tspr√ºfungen parallel zur Verpackung durch",impact:"high",timeSavings:25,costReduction:15},{id:2,title:"Automatisierung der Dokumentation",description:"Implementieren Sie automatische Dokumentationssysteme",impact:"medium",timeSavings:12,costReduction:8},{id:3,title:"Optimierung der Lagerlogistik",description:"Reorganisieren Sie die Lagerstruktur f√ºr k√ºrzere Wege",impact:"medium",timeSavings:18,costReduction:22}]}}catch(e){l.value=e}finally{n.value=!1}},{component:"ProcessPanel",operation:"enhanceProcess"}),M=()=>({activities:[{id:"start",name:"Bestellung eingegangen",type:"start"},{id:"check",name:"Verf√ºgbarkeit pr√ºfen",type:"activity"},{id:"produce",name:"Produzieren",type:"activity"},{id:"quality",name:"Qualit√§tskontrolle",type:"activity"},{id:"package",name:"Verpacken",type:"activity"},{id:"ship",name:"Versenden",type:"activity"},{id:"end",name:"Bestellung abgeschlossen",type:"end"}],flows:[{from:"start",to:"check",frequency:100},{from:"check",to:"produce",frequency:85},{from:"check",to:"ship",frequency:15},{from:"produce",to:"quality",frequency:85},{from:"quality",to:"package",frequency:80},{from:"quality",to:"produce",frequency:5},{from:"package",to:"ship",frequency:80},{from:"ship",to:"end",frequency:95}]}),R=()=>({before:M(),after:{activities:[{id:"start",name:"Bestellung eingegangen",type:"start"},{id:"check",name:"Verf√ºgbarkeit pr√ºfen",type:"activity"},{id:"produce",name:"Produzieren",type:"activity"},{id:"parallel",name:"Qualit√§t & Verpackung",type:"parallel"},{id:"ship",name:"Versenden",type:"activity"},{id:"end",name:"Bestellung abgeschlossen",type:"end"}],improvements:["25% schneller","15% kosteng√ºnstiger"]}}),B={handleErrorUtil:a,wrapAsync:s,activeTab:r,isLoading:n,error:l,discoveryConfig:o,conformanceConfig:u,enhancementConfig:h,processModel:m,processStats:p,conformanceResults:g,enhancementResults:v,hasError:f,processTabs:y,processTypeOptions:b,referenceModelOptions:k,optimizationTypeOptions:_,processChartConfig:S,comparisonChartConfig:w,discoverProcesses:x,checkConformance:C,enhanceProcess:P,generateProcessModel:M,generateComparisonData:R,getConformanceClass:e=>e>=.9?"score-excellent":e>=.8?"score-good":e>=.7?"score-fair":"score-poor",getDeviationClass:e=>{switch(e){case"high":return"deviation-high";case"medium":default:return"deviation-medium";case"low":return"deviation-low"}},getImpactClass:e=>{switch(e){case"high":return"impact-high";case"medium":default:return"impact-medium";case"low":return"impact-low"}},handleError:e=>{l.value=e,a(e,{component:"ProcessPanel",action:"component_error"})},handleActivitySelect:e=>{},handlePathSelect:e=>{},handleImprovementSelect:e=>{},exploreDeviation:e=>{},loadProcessData:()=>{"discovery"===r.value&&x()},ref:c,computed:d,get useErrorHandling(){return L},ErrorBoundary:A,ErrorDisplay:O,LoadingSpinner:D,BaseButton:E,SearchableSelect:z,RangeSlider:F,ProcessChart:i};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}},[["render",function(e,t,a,s,r,n){return w(),p("div",Pr,[k(s.ErrorBoundary,{onError:s.handleError},{default:_(()=>[t[28]||(t[28]=g("div",{class:"panel-header"},[g("h2",{class:"panel-title"},"Process Mining"),g("p",{class:"panel-description"}," Analyse und Optimierung von landwirtschaftlichen Prozessen ")],-1)),g("div",Mr,[g("div",zr,[(w(!0),p(y,null,b(s.processTabs,e=>(w(),p("button",{key:e.id,onClick:t=>s.activeTab=e.id,class:x(["tab-button",{"tab-active":s.activeTab===e.id}])},f(e.label),11,Er))),128))])]),g("div",Dr,[s.hasError?(w(),p("div",Or,[k(s.ErrorDisplay,{error:s.error,title:"Fehler beim Process Mining",showRetry:!0,onRetry:s.loadProcessData},null,8,["error"])])):s.isLoading?(w(),p("div",Ar,[k(s.LoadingSpinner,{size:"lg"}),t[4]||(t[4]=g("p",{class:"loading-text"},"Analysiere Prozesse...",-1))])):(w(),p("div",Fr,["discovery"===s.activeTab?(w(),p("div",Lr,[g("div",Rr,[g("div",Br,[t[5]||(t[5]=g("label",null,"Prozess-Typ",-1)),k(s.SearchableSelect,{modelValue:s.discoveryConfig.processType,"onUpdate:modelValue":t[0]||(t[0]=e=>s.discoveryConfig.processType=e),options:s.processTypeOptions},null,8,["modelValue","options"])]),g("div",Vr,[t[6]||(t[6]=g("label",null,"Zeitraum",-1)),k(s.RangeSlider,{modelValue:s.discoveryConfig.timeRange,"onUpdate:modelValue":t[1]||(t[1]=e=>s.discoveryConfig.timeRange=e),min:2020,max:2023,step:1,"show-labels":!0},null,8,["modelValue"])]),k(s.BaseButton,{onClick:s.discoverProcesses},{default:_(()=>t[7]||(t[7]=[P(" Prozesse entdecken ")])),_:1,__:[7]},8,["onClick"])]),s.processModel?(w(),p("div",Gr,[k(s.ProcessChart,{data:s.processModel,config:s.processChartConfig,onActivitySelect:s.handleActivitySelect,onPathSelect:s.handlePathSelect},null,8,["data","config"])])):v("",!0),s.processStats?(w(),p("div",Tr,[t[12]||(t[12]=g("h3",{class:"stats-title"},"Prozess-Statistiken",-1)),g("div",Wr,[g("div",jr,[t[8]||(t[8]=g("div",{class:"stat-label"},"Aktivit√§ten",-1)),g("div",Ir,f(s.processStats.activities),1)]),g("div",Nr,[t[9]||(t[9]=g("div",{class:"stat-label"},"Traces",-1)),g("div",qr,f(s.processStats.traces),1)]),g("div",Kr,[t[10]||(t[10]=g("div",{class:"stat-label"},"Varianten",-1)),g("div",Ur,f(s.processStats.variants),1)]),g("div",Hr,[t[11]||(t[11]=g("div",{class:"stat-label"},"Durchlaufzeit (Tage)",-1)),g("div",Zr,f(s.processStats.avgDuration),1)])])])):v("",!0)])):v("",!0),"conformance"===s.activeTab?(w(),p("div",$r,[g("div",Yr,[g("div",Qr,[t[13]||(t[13]=g("label",null,"Referenz-Modell",-1)),k(s.SearchableSelect,{modelValue:s.conformanceConfig.referenceModel,"onUpdate:modelValue":t[2]||(t[2]=e=>s.conformanceConfig.referenceModel=e),options:s.referenceModelOptions},null,8,["modelValue","options"])]),k(s.BaseButton,{onClick:s.checkConformance},{default:_(()=>t[14]||(t[14]=[P(" Konformit√§t pr√ºfen ")])),_:1,__:[14]},8,["onClick"])]),s.conformanceResults?(w(),p("div",Jr,[g("div",Xr,[g("div",en,[g("div",{class:x(["score-circle",s.getConformanceClass(s.conformanceResults.fitness)])},[g("span",tn,f((100*s.conformanceResults.fitness).toFixed(0))+"%",1),t[15]||(t[15]=g("span",{class:"score-label"},"Fitness",-1))],2)]),g("div",an,[g("div",sn,[t[16]||(t[16]=g("span",{class:"metric-label"},"Precision:",-1)),g("span",rn,f((100*s.conformanceResults.precision).toFixed(1))+"%",1)]),g("div",nn,[t[17]||(t[17]=g("span",{class:"metric-label"},"Recall:",-1)),g("span",ln,f((100*s.conformanceResults.recall).toFixed(1))+"%",1)]),g("div",on,[t[18]||(t[18]=g("span",{class:"metric-label"},"F1-Score:",-1)),g("span",cn,f((100*s.conformanceResults.f1Score).toFixed(1))+"%",1)])])]),g("div",dn,[t[20]||(t[20]=g("h4",{class:"deviations-title"},"Erkannte Abweichungen",-1)),g("div",un,[(w(!0),p(y,null,b(s.conformanceResults.deviations,e=>(w(),p("div",{key:e.id,class:x(["deviation-item",s.getDeviationClass(e.severity)])},[g("div",hn,[g("span",mn,f(e.type),1),g("span",pn,f(e.count)+"x",1)]),g("p",gn,f(e.description),1),g("div",vn,[k(s.BaseButton,{size:"sm",onClick:t=>s.exploreDeviation(e)},{default:_(()=>t[19]||(t[19]=[P(" Untersuchen ")])),_:2,__:[19]},1032,["onClick"])])],2))),128))])])])):v("",!0)])):v("",!0),"enhancement"===s.activeTab?(w(),p("div",fn,[g("div",yn,[g("div",bn,[t[21]||(t[21]=g("label",null,"Optimierungs-Typ",-1)),k(s.SearchableSelect,{modelValue:s.enhancementConfig.optimizationType,"onUpdate:modelValue":t[3]||(t[3]=e=>s.enhancementConfig.optimizationType=e),options:s.optimizationTypeOptions},null,8,["modelValue","options"])]),k(s.BaseButton,{onClick:s.enhanceProcess},{default:_(()=>t[22]||(t[22]=[P(" Prozess optimieren ")])),_:1,__:[22]},8,["onClick"])]),s.enhancementResults?(w(),p("div",kn,[g("div",_n,[g("div",Sn,[k(s.ProcessChart,{data:s.enhancementResults.comparison,config:s.comparisonChartConfig,onImprovementSelect:s.handleImprovementSelect},null,8,["data","config"])])]),g("div",wn,[t[27]||(t[27]=g("h4",{class:"suggestions-title"},"Verbesserungsvorschl√§ge",-1)),g("div",xn,[(w(!0),p(y,null,b(s.enhancementResults.suggestions,e=>(w(),p("div",{key:e.id,class:"suggestion-item"},[g("div",Cn,[g("h5",Pn,f(e.title),1),g("div",{class:x(["suggestion-impact",s.getImpactClass(e.impact)])},f(e.impact)+" Impact ",3)]),g("p",Mn,f(e.description),1),g("div",zn,[g("div",En,[t[23]||(t[23]=g("span",{class:"metric-label"},"Zeitersparnis:",-1)),g("span",Dn,f(e.timeSavings)+"%",1)]),g("div",On,[t[24]||(t[24]=g("span",{class:"metric-label"},"Kostenreduktion:",-1)),g("span",An,f(e.costReduction)+"%",1)])]),g("div",Fn,[k(s.BaseButton,{size:"sm",variant:"primary"},{default:_(()=>t[25]||(t[25]=[P(" Implementieren ")])),_:1,__:[25]}),k(s.BaseButton,{size:"sm",variant:"outline"},{default:_(()=>t[26]||(t[26]=[P(" Simulieren ")])),_:1,__:[26]})])]))),128))])])])):v("",!0)])):v("",!0)]))])]),_:1,__:[28]})])}],["__scopeId","data-v-dd769adf"],["__file","ProcessPanel.vue"]]),Rn=Object.freeze(Object.defineProperty({__proto__:null,default:Ln},Symbol.toStringTag,{value:"Module"}));export{Qe as D,_s as M,Ln as P,xr as S,Ct as T,R as _,rt as a,Sa as b,Je as c,Pt as d,wa as e,Ss as f,tt as g,Cr as h,Rn as i};
//# sourceMappingURL=panels-HNJlyK_X.js.map

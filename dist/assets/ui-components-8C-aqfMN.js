import{d as e,c as r,e as a,l as t,g as o,J as l,m as s,f as n,t as d,q as i,j as u,i as c,S as p,r as g,b as m,K as y,p as b,w as f,n as h,L as v,M as x,s as k,F as w,h as C,N as S,O as _}from"./vue-vendor-Cpenns3E.js";import{_ as O,g as j,a as V}from"./panels-BiDjiUhN.js";import{a as B,u as M}from"./stores-D-HQzOOg.js";const z=e({__name:"BaseButton",props:{variant:{default:"primary"},size:{default:"md"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},icon:{type:Boolean,default:!1}},emits:["click"],setup(e,{expose:a,emit:t}){a();const o=e,l=t,s=r(()=>{const e={sm:o.icon?"p-1":"px-3 py-1.5 text-sm",md:o.icon?"p-2":"px-4 py-2 text-sm",lg:o.icon?"p-3":"px-6 py-3 text-base"},r={primary:["bg-primary-500","text-white","hover:bg-primary-600","focus:ring-primary-500","active:bg-primary-700","border","border-primary-500","hover:border-primary-600","shadow-sm"],secondary:["bg-secondary-500","text-white","hover:bg-secondary-600","focus:ring-secondary-500","active:bg-secondary-700","border","border-secondary-500","hover:border-secondary-600","shadow-sm"],danger:["bg-error-500","text-white","hover:bg-error-600","focus:ring-error-500","active:bg-error-700","border","border-error-500","hover:border-error-600","shadow-sm"],success:["bg-success-500","text-white","hover:bg-success-600","focus:ring-success-500","active:bg-success-700","border","border-success-500","hover:border-success-600","shadow-sm"],warning:["bg-warning-500","text-white","hover:bg-warning-600","focus:ring-warning-500","active:bg-warning-700","border","border-warning-500","hover:border-warning-600","shadow-sm"],ghost:["bg-transparent","text-gray-700","hover:bg-gray-100","focus:ring-gray-500","active:bg-gray-200","dark:text-gray-300","dark:hover:bg-gray-800","dark:active:bg-gray-700","border","border-transparent","hover:border-gray-300","dark:hover:border-gray-600"],"outline-primary":["bg-transparent","text-primary-600","hover:bg-primary-50","focus:ring-primary-500","active:bg-primary-100","dark:text-primary-400","dark:hover:bg-primary-950","dark:active:bg-primary-900","border-2","border-primary-500","hover:border-primary-600"],"outline-secondary":["bg-transparent","text-secondary-600","hover:bg-secondary-50","focus:ring-secondary-500","active:bg-secondary-100","dark:text-secondary-400","dark:hover:bg-secondary-950","dark:active:bg-secondary-900","border-2","border-secondary-500","hover:border-secondary-600"]},a=o.fullWidth?"w-full":"",t=r[o.variant]||r.primary;return["inline-flex","items-center","justify-center","font-medium","rounded-lg","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed",e[o.size],...t,a].filter(Boolean).join(" ")}),n={props:o,emit:l,buttonClasses:s,handleClick:e=>{o.disabled||o.loading||l("click",e)}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),D=["disabled"];const L=O(z,[["render",function(e,r,d,i,u,c){return t(),a("button",{class:s(i.buttonClasses),disabled:d.disabled||d.loading,onClick:i.handleClick},[d.loading?(t(),a("svg",{key:0,class:s(["animate-spin -ml-1 mr-2 h-4 w-4",{"mr-0":d.icon}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r[0]||(r[0]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2)):o("",!0),d.loading?o("",!0):l(e.$slots,"default",{key:1})],10,D)}],["__file","BaseButton.vue"]]),P=e({__name:"LoadingSpinner",props:{size:{default:"md"},color:{default:"primary"},text:{default:void 0},centered:{type:Boolean,default:!1},overlay:{type:Boolean,default:!1}},setup(e,{expose:a}){a();const t=e,o=r(()=>{const e=["flex","items-center"];return t.centered&&e.push("justify-center"),t.overlay&&e.push("absolute","inset-0","bg-white","dark:bg-gray-900","bg-opacity-75","dark:bg-opacity-75","z-10"),e.join(" ")}),l=r(()=>["animate-spin","rounded-full","border-2","border-solid",{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"}[t.size],{primary:"border-primary-200 border-t-primary-600 dark:border-primary-800 dark:border-t-primary-400",secondary:"border-secondary-200 border-t-secondary-600 dark:border-secondary-800 dark:border-t-secondary-400",white:"border-gray-200 border-t-white",gray:"border-gray-200 border-t-gray-600 dark:border-gray-700 dark:border-t-gray-300"}[t.color]].join(" ")),s=r(()=>["text-gray-600","dark:text-gray-400",{xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-base",xl:"text-lg"}[t.size]].join(" ")),n={props:t,containerClasses:o,spinnerClasses:l,textClasses:s};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),I={class:"flex items-center space-x-3"};const E=O(P,[["render",function(e,r,l,i,u,c){return t(),a("div",{class:s(i.containerClasses)},[n("div",I,[n("div",{class:s(i.spinnerClasses)},null,2),l.text?(t(),a("span",{key:0,class:s(i.textClasses)},d(l.text),3)):o("",!0)])],2)}],["__scopeId","data-v-07a28928"],["__file","LoadingSpinner.vue"]]),R={class:"error-boundary"},A={class:"error-loading"};const K=O({__name:"ErrorBoundary",props:{onError:{type:Function,default:null},fallback:{type:[String,Object],default:null}},setup(e,{expose:r}){r();const a=e,t=g(!1),o=g(null);m((e,r,l)=>(t.value=!0,o.value=e,a.onError&&a.onError(e,r,l),!1)),y("errorState",{hasError:t,error:o,resetError:()=>{t.value=!1,o.value=null}});const l={props:a,hasError:t,error:o,onErrorCaptured:m,provide:y,ref:g,LoadingSpinner:E};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}},[["render",function(e,r,o,s,d,g){return t(),a("div",R,[(t(),i(p,null,{default:u(()=>[l(e.$slots,"default",{},void 0,!0)]),fallback:u(()=>[n("div",A,[c(s.LoadingSpinner),r[0]||(r[0]=n("p",{class:"text-gray-600 mt-2"},"Loading...",-1))])]),_:3}))])}],["__scopeId","data-v-1338bf56"],["__file","ErrorBoundary.vue"]]),$={__name:"ErrorDisplay",props:{error:{type:[Error,Object,String],default:null},title:{type:String,default:"An error occurred"},message:{type:String,default:"Something went wrong. Please try again."},variant:{type:String,default:"error",validator:e=>["error","warning","info"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},showRetry:{type:Boolean,default:!1},showReport:{type:Boolean,default:!1},showDetails:{type:Boolean,default:!1}},emits:["retry","report"],setup(e,{expose:a,emit:t}){a();const o=e,l=t,s=r(()=>`border rounded-lg p-4 ${{error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"}[o.variant]} ${{sm:"text-sm",md:"text-base",lg:"text-lg"}[o.size]}`),n=r(()=>o.error?o.error instanceof Error?`${o.error.name}: ${o.error.message}\n\nStack trace:\n${o.error.stack}`:"object"==typeof o.error?JSON.stringify(o.error,null,2):String(o.error):""),d={props:o,emit:l,errorClasses:s,errorDetails:n,handleRetry:()=>{l("retry")},handleReport:()=>{l("report",{error:o.error,title:o.title,message:o.message,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href})},computed:r,BaseButton:L};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},H={class:"error-content"},q={class:"error-message"},Q={class:"error-title"},Y={class:"error-description"},F={key:0,class:"error-details"},U={class:"mt-2"},J={class:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto"},N={key:0,class:"error-actions"};const T=O($,[["render",function(e,r,l,p,g,m){return t(),a("div",{class:s(["error-display",p.errorClasses])},[n("div",H,[r[3]||(r[3]=n("div",{class:"error-icon"},[n("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),n("div",q,[n("h3",Q,d(l.title),1),n("p",Y,d(l.message),1),l.showDetails&&l.error?(t(),a("div",F,[n("details",U,[r[0]||(r[0]=n("summary",{class:"cursor-pointer text-sm font-medium"},"Technical Details",-1)),n("pre",J,d(p.errorDetails),1)])])):o("",!0)]),l.showRetry?(t(),a("div",N,[c(p.BaseButton,{variant:"outline",size:"sm",class:"mr-2",onClick:p.handleRetry},{default:u(()=>r[1]||(r[1]=[b(" Try Again ")])),_:1,__:[1]}),l.showReport?(t(),i(p.BaseButton,{key:0,variant:"ghost",size:"sm",onClick:p.handleReport},{default:u(()=>r[2]||(r[2]=[b(" Report Issue ")])),_:1,__:[2]})):o("",!0)])):o("",!0)])],2)}],["__scopeId","data-v-668cf143"],["__file","ErrorDisplay.vue"]]),W=e({__name:"SearchableSelect",props:{modelValue:{},options:{},placeholder:{default:"Auswählen..."},searchPlaceholder:{default:"Suchen..."},disabled:{type:Boolean,default:!1},error:{default:void 0},label:{default:void 0},required:{type:Boolean,default:!1},size:{default:"md"},clearable:{type:Boolean,default:!1},maxHeight:{default:"200px"},multiple:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{expose:a,emit:t}){a();const o=e,l=t,s=g(!1),n=g(""),d=g(),i=g(),u=r(()=>o.options.find(e=>e.value===o.modelValue)),c=r(()=>n.value?o.options.filter(e=>e.label.toLowerCase().includes(n.value.toLowerCase())):o.options),p=r(()=>["relative","w-full"].join(" ")),m=r(()=>{const e=o.error?["border-red-300","focus:border-red-500","focus:ring-red-500"]:s.value?["border-primary-500","ring-2","ring-primary-500"]:["border-gray-300","dark:border-gray-600","focus:border-primary-500","focus:ring-primary-500"];return["flex","items-center","justify-between","w-full","rounded-lg","border","bg-white","dark:bg-gray-800","text-gray-900","dark:text-gray-100","transition-colors","duration-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer",{sm:"px-3 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"}[o.size],...e].join(" ")}),y=r(()=>["absolute","z-50","w-full","mt-1","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-600","rounded-lg","shadow-lg"].join(" ")),b=e=>{e.disabled||(l("update:modelValue",e.value),l("change",e.value),s.value=!1,n.value="")},v=e=>{i.value&&!i.value.contains(e.target)&&(s.value=!1,n.value="")};f(s,e=>{e?document.addEventListener("click",v):document.removeEventListener("click",v)});const x=g(-1);f(c,()=>{x.value=-1});const k={props:o,emit:l,isOpen:s,searchQuery:n,searchInputRef:d,containerRef:i,selectedOption:u,filteredOptions:c,containerClasses:p,triggerClasses:m,dropdownClasses:y,optionClasses:(e,r,a)=>["flex","items-center","px-3","py-2","text-sm","cursor-pointer","transition-colors","duration-150",r?"bg-primary-500 text-white":a?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100":"text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700",e.disabled?"opacity-50 cursor-not-allowed":""].filter(Boolean).join(" "),toggleDropdown:()=>{o.disabled||(s.value=!s.value,s.value?h(()=>{var e;null==(e=d.value)||e.focus()}):n.value="")},selectOption:b,clearSelection:e=>{e.stopPropagation(),l("update:modelValue",null),l("change",null)},handleClickOutside:v,highlightedIndex:x,handleKeydown:e=>{if(s.value)switch(e.key){case"ArrowDown":e.preventDefault(),x.value=Math.min(x.value+1,c.value.length-1);break;case"ArrowUp":e.preventDefault(),x.value=Math.max(x.value-1,-1);break;case"Enter":e.preventDefault(),x.value>=0&&b(c.value[x.value]);break;case"Escape":s.value=!1,n.value=""}}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),G={class:"w-full"},X={key:0,class:"text-red-500 ml-1"},Z=["disabled"],ee={key:0,class:"block truncate"},re={key:1,class:"block truncate text-gray-500 dark:text-gray-400"},ae={class:"flex items-center ml-2 space-x-1"},te={class:"p-2 border-b border-gray-200 dark:border-gray-600"},oe=["placeholder"],le={key:0,class:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400"},se=["onClick","onMouseenter"],ne={key:1,class:"mt-1 text-sm text-red-600 dark:text-red-400"};const de=O(W,[["render",function(e,r,l,i,u,c){return t(),a("div",G,[l.label?(t(),a("label",{key:0,class:s(["block text-sm font-medium mb-1",{"text-red-700 dark:text-red-400":l.error,"text-gray-700 dark:text-gray-300":!l.error}])},[b(d(l.label)+" ",1),l.required?(t(),a("span",X,"*")):o("",!0)],2)):o("",!0),n("div",{ref:"containerRef",class:s(i.containerClasses)},[n("button",{type:"button",class:s(i.triggerClasses),disabled:l.disabled,onClick:i.toggleDropdown,onKeydown:i.handleKeydown},[i.selectedOption?(t(),a("span",ee,d(i.selectedOption.label),1)):(t(),a("span",re,d(l.placeholder),1)),n("div",ae,[l.clearable&&i.selectedOption?(t(),a("button",{key:0,type:"button",class:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",onClick:i.clearSelection},r[1]||(r[1]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):o("",!0),(t(),a("svg",{class:s(["w-4 h-4 transition-transform duration-200",{"rotate-180":i.isOpen}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r[2]||(r[2]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],42,Z),i.isOpen?(t(),a("div",{key:0,class:s(i.dropdownClasses)},[n("div",te,[v(n("input",{ref:"searchInputRef","onUpdate:modelValue":r[0]||(r[0]=e=>i.searchQuery=e),type:"text",placeholder:l.searchPlaceholder,class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",onKeydown:i.handleKeydown},null,40,oe),[[x,i.searchQuery]])]),n("div",{class:"max-h-48 overflow-y-auto",style:k({maxHeight:l.maxHeight})},[0===i.filteredOptions.length?(t(),a("div",le," Keine Optionen gefunden ")):o("",!0),(t(!0),a(w,null,C(i.filteredOptions,(e,r)=>(t(),a("div",{key:e.value,class:s(i.optionClasses(e,e.value===l.modelValue,r===i.highlightedIndex)),onClick:r=>i.selectOption(e),onMouseenter:e=>i.highlightedIndex=r},d(e.label),43,se))),128))],4)],2)):o("",!0)],2),l.error?(t(),a("p",ne,d(l.error),1)):o("",!0)])}],["__file","SearchableSelect.vue"]]),ie=e({__name:"MultiSelect",props:{modelValue:{},options:{},placeholder:{default:"Auswählen..."},searchPlaceholder:{default:"Suchen..."},disabled:{type:Boolean,default:!1},error:{default:void 0},label:{default:void 0},required:{type:Boolean,default:!1},size:{default:"md"},maxItems:{default:void 0},maxHeight:{default:"200px"}},emits:["update:modelValue","change"],setup(e,{expose:a,emit:t}){a();const o=e,l=t,s=g(!1),n=g(""),d=g(),i=g(),u=r(()=>o.options.filter(e=>o.modelValue.includes(e.value))),c=r(()=>n.value?o.options.filter(e=>e.label.toLowerCase().includes(n.value.toLowerCase())):o.options),p=r(()=>c.value.filter(e=>!o.modelValue.includes(e.value))),m=r(()=>["relative","w-full"].join(" ")),y=r(()=>{const e=o.error?["border-red-300","focus:border-red-500","focus:ring-red-500"]:s.value?["border-emerald-500","ring-2","ring-emerald-500"]:["border-gray-300","dark:border-gray-600","focus:border-emerald-500","focus:ring-emerald-500"];return["flex","items-center","justify-between","w-full","rounded-lg","border","bg-white","dark:bg-gray-800","text-gray-900","dark:text-gray-100","transition-colors","duration-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","cursor-pointer","min-h-[38px]",{sm:"px-3 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"}[o.size],...e].join(" ")}),b=r(()=>["absolute","z-50","w-full","mt-1","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-600","rounded-lg","shadow-lg"].join(" ")),v=e=>{if(e.disabled)return;const r=[...o.modelValue],a=r.indexOf(e.value);a>-1?r.splice(a,1):(!o.maxItems||r.length<o.maxItems)&&r.push(e.value),l("update:modelValue",r),l("change",r)},x=e=>{i.value&&!i.value.contains(e.target)&&(s.value=!1,n.value="")};f(s,e=>{e?document.addEventListener("click",x):document.removeEventListener("click",x)});const k=g(-1);f(p,()=>{k.value=-1});const w={props:o,emit:l,isOpen:s,searchQuery:n,searchInputRef:d,containerRef:i,selectedOptions:u,filteredOptions:c,availableOptions:p,containerClasses:m,triggerClasses:y,dropdownClasses:b,optionClasses:(e,r)=>["flex","items-center","px-3","py-2","text-sm","cursor-pointer","transition-colors","duration-150",o.modelValue.includes(e.value)?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-900 dark:text-emerald-100":r?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100":"text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700",e.disabled?"opacity-50 cursor-not-allowed":""].filter(Boolean).join(" "),toggleDropdown:()=>{o.disabled||(s.value=!s.value,s.value?h(()=>{var e;null==(e=d.value)||e.focus()}):n.value="")},toggleOption:v,removeOption:(e,r)=>{r.stopPropagation();const a=o.modelValue.filter(r=>r!==e.value);l("update:modelValue",a),l("change",a)},clearAll:e=>{e.stopPropagation(),l("update:modelValue",[]),l("change",[])},handleClickOutside:x,highlightedIndex:k,handleKeydown:e=>{if(s.value)switch(e.key){case"ArrowDown":e.preventDefault(),k.value=Math.min(k.value+1,p.value.length-1);break;case"ArrowUp":e.preventDefault(),k.value=Math.max(k.value-1,-1);break;case"Enter":e.preventDefault(),k.value>=0&&v(p.value[k.value]);break;case"Escape":s.value=!1,n.value=""}}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),ue={class:"w-full"},ce={key:0,class:"text-red-500 ml-1"},pe=["disabled"],ge={class:"flex-1 flex flex-wrap gap-1 items-center"},me=["onClick"],ye={key:0,class:"block truncate text-gray-500 dark:text-gray-400"},be={class:"flex items-center ml-2 space-x-1"},fe={class:"p-2 border-b border-gray-200 dark:border-gray-600"},he=["placeholder"],ve={key:0,class:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400"},xe=["onClick"],ke=["onClick","onMouseenter"],we={key:0,class:"px-3 py-2 text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-600"},Ce={key:1,class:"mt-1 text-sm text-red-600 dark:text-red-400"},Se={key:2,class:"mt-1 text-xs text-gray-500 dark:text-gray-400"};const _e=O(ie,[["render",function(e,r,l,i,u,c){return t(),a("div",ue,[l.label?(t(),a("label",{key:0,class:s(["block text-sm font-medium mb-1",{"text-red-700 dark:text-red-400":l.error,"text-gray-700 dark:text-gray-300":!l.error}])},[b(d(l.label)+" ",1),l.required?(t(),a("span",ce,"*")):o("",!0)],2)):o("",!0),n("div",{ref:"containerRef",class:s(i.containerClasses)},[n("button",{type:"button",class:s(i.triggerClasses),disabled:l.disabled,onClick:i.toggleDropdown,onKeydown:i.handleKeydown},[n("div",ge,[(t(!0),a(w,null,C(i.selectedOptions,e=>(t(),a("span",{key:e.value,class:"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-200"},[b(d(e.label)+" ",1),n("button",{type:"button",class:"ml-1 inline-flex items-center justify-center w-3 h-3 rounded-full hover:bg-emerald-200 dark:hover:bg-emerald-800",onClick:r=>i.removeOption(e,r)},r[1]||(r[1]=[n("svg",{class:"w-2 h-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,me)]))),128)),0===i.selectedOptions.length?(t(),a("span",ye,d(l.placeholder),1)):o("",!0)]),n("div",be,[i.selectedOptions.length>0?(t(),a("button",{key:0,type:"button",class:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",onClick:i.clearAll},r[2]||(r[2]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):o("",!0),(t(),a("svg",{class:s(["w-4 h-4 transition-transform duration-200",{"rotate-180":i.isOpen}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r[3]||(r[3]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])],42,pe),i.isOpen?(t(),a("div",{key:0,class:s(i.dropdownClasses)},[n("div",fe,[v(n("input",{ref:"searchInputRef","onUpdate:modelValue":r[0]||(r[0]=e=>i.searchQuery=e),type:"text",placeholder:l.searchPlaceholder,class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500",onKeydown:i.handleKeydown},null,40,he),[[x,i.searchQuery]])]),n("div",{class:"max-h-48 overflow-y-auto",style:k({maxHeight:l.maxHeight})},[0===i.availableOptions.length&&0===i.selectedOptions.length?(t(),a("div",ve," Keine Optionen gefunden ")):o("",!0),(t(!0),a(w,null,C(i.selectedOptions,e=>(t(),a("div",{key:`selected-${e.value}`,class:s(i.optionClasses(e,!1)),onClick:r=>i.toggleOption(e)},[r[4]||(r[4]=n("svg",{class:"w-4 h-4 mr-2 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),b(" "+d(e.label),1)],10,xe))),128)),(t(!0),a(w,null,C(i.availableOptions,(e,o)=>(t(),a("div",{key:e.value,class:s(i.optionClasses(e,o===i.highlightedIndex)),onClick:r=>i.toggleOption(e),onMouseenter:e=>i.highlightedIndex=o},[r[5]||(r[5]=n("div",{class:"w-4 h-4 mr-2"},null,-1)),b(" "+d(e.label),1)],42,ke))),128))],4),l.maxItems&&l.modelValue.length>=l.maxItems?(t(),a("div",we," Maximum "+d(l.maxItems)+" Elemente ausgewählt ",1)):o("",!0)],2)):o("",!0)],2),l.error?(t(),a("p",Ce,d(l.error),1)):o("",!0),i.selectedOptions.length>0&&!l.error?(t(),a("p",Se,d(i.selectedOptions.length)+" "+d(1===i.selectedOptions.length?"Element":"Elemente")+" ausgewählt ",1)):o("",!0)])}],["__file","MultiSelect.vue"]]),Oe=e({__name:"RangeSlider",props:{modelValue:{},min:{default:0},max:{default:100},step:{default:1},disabled:{type:Boolean,default:!1},label:{default:void 0},showValue:{type:Boolean,default:!0},formatValue:{type:Function,default:void 0},size:{default:"md"},color:{default:"primary"}},emits:["update:modelValue","change","input"],setup(e,{expose:a,emit:t}){const o=e,l=t,s=g(),n=r(()=>(o.modelValue-o.min)/(o.max-o.min)*100),d=r(()=>o.formatValue?o.formatValue(o.modelValue):o.modelValue.toString()),i=r(()=>["w-full","h-2","bg-gray-200","dark:bg-gray-700","rounded-lg","appearance-none","cursor-pointer","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed",{sm:"h-1",md:"h-2",lg:"h-3"}[o.size],{primary:"focus:ring-primary-500",secondary:"focus:ring-gray-500",success:"focus:ring-green-500",warning:"focus:ring-yellow-500",danger:"focus:ring-red-500"}[o.color]].join(" ")),u=r(()=>({background:`linear-gradient(to right, rgb(var(--color-${o.color}-500)) 0%, rgb(var(--color-${o.color}-500)) ${n.value}%, rgb(229 231 235) ${n.value}%, rgb(229 231 235) 100%)`})),c=r(()=>[{sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[o.size],{primary:"bg-primary-500 border-primary-600",secondary:"bg-gray-500 border-gray-600",success:"bg-green-500 border-green-600",warning:"bg-yellow-500 border-yellow-600",danger:"bg-red-500 border-red-600"}[o.color],"rounded-full","border-2","cursor-pointer","shadow-sm","transition-all","duration-200","hover:shadow-md","focus:shadow-lg"].join(" ")),p=()=>{var e;null==(e=s.value)||e.focus()};a({focus:p});const m={props:o,emit:l,sliderRef:s,percentage:n,formattedValue:d,sliderClasses:i,trackStyle:u,thumbStyle:c,handleInput:e=>{const r=e.target,a=parseFloat(r.value);l("update:modelValue",a),l("input",a)},handleChange:e=>{const r=e.target,a=parseFloat(r.value);l("change",a)},focus:p};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),je={class:"w-full"},Ve={key:0,class:"flex justify-between items-center mb-2"},Be=["for"],Me={key:1,class:"text-sm font-medium text-gray-900 dark:text-gray-100 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded"},ze={class:"relative"},De=["value","min","max","step","disabled"],Le={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"};const Pe=O(Oe,[["render",function(e,r,l,s,i,u){return t(),a("div",je,[l.label||l.showValue?(t(),a("div",Ve,[l.label?(t(),a("label",{key:0,class:"block text-sm font-medium text-gray-700 dark:text-gray-300",for:e.$attrs.id},d(l.label),9,Be)):o("",!0),l.showValue?(t(),a("span",Me,d(s.formattedValue),1)):o("",!0)])):o("",!0),n("div",ze,[n("input",S({ref:"sliderRef",type:"range",value:l.modelValue,min:l.min,max:l.max,step:l.step,disabled:l.disabled,class:s.sliderClasses},e.$attrs,{onInput:s.handleInput,onChange:s.handleChange}),null,16,De)]),n("div",Le,[n("span",null,d(l.formatValue?l.formatValue(l.min):l.min),1),n("span",null,d(l.formatValue?l.formatValue(l.max):l.max),1)])])}],["__scopeId","data-v-1c14e349"],["__file","RangeSlider.vue"]]),Ie={class:"flex flex-wrap gap-4 items-end","data-tour":"product-selector"},Ee={class:"flex-1 min-w-[200px]"},Re={class:"w-32"},Ae={class:"w-48"},Ke={class:"flex items-center space-x-2"},$e=["disabled"];const He=O(e({__name:"ProductSelector",setup(e,{expose:a}){a();const t=_(),o=B(),l=M(),s=r(()=>{var e,r;const a=(null==(r=null==(e=o.faoMetadata)?void 0:e.data_summary)?void 0:r.food_items)||[];return a.length>0?a.map(e=>({value:e,label:j(e)})).sort((e,r)=>e.label.localeCompare(r.label,"de")):V()}),n=r(()=>(o.availableYears||[]).map(e=>({value:e,label:e.toString()})).reverse());f([()=>l.selectedProduct,()=>l.selectedYear],async([e,r])=>{if(e&&r)try{o.timeseriesData&&o.timeseriesData[e]||await o.loadProductionData(e,r)}catch(a){}});const d={router:t,dataStore:o,uiStore:l,productOptions:s,metricOptions:[{value:"production",label:"Produktion"},{value:"import_quantity",label:"Import"},{value:"export_quantity",label:"Export"},{value:"domestic_supply_quantity",label:"Inlandsversorgung"},{value:"food_supply_kcal",label:"Kalorienversorgung"},{value:"feed",label:"Tierfutter"}],yearOptions:n,handleProductChange:e=>{e&&l.setSelectedProduct(e)},handleMetricChange:e=>{e&&l.setSelectedMetric(e)},handleYearChange:e=>{e&&l.setSelectedYear(Number(e))},exportData:()=>{},refreshData:async()=>{if(!o.isLoading)try{l.addLoadingMessage("Aktualisiere Daten..."),await o.initializeApp()}catch(e){}finally{l.clearLoadingMessages()}},resetView:()=>{l.resetUI(),t.push("/")},SearchableSelect:de};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),[["render",function(e,r,o,l,d,i){return t(),a("div",Ie,[n("div",Ee,[c(l.SearchableSelect,{"model-value":l.uiStore.selectedProduct,options:l.productOptions,placeholder:"Produkt auswählen...","search-placeholder":"Produkt suchen...",label:"Produkt",size:"md",onChange:l.handleProductChange},null,8,["model-value","options"])]),n("div",Re,[c(l.SearchableSelect,{"model-value":l.uiStore.selectedYear,options:l.yearOptions,placeholder:"Jahr...",label:"Jahr",size:"md",searchable:!1,onChange:l.handleYearChange},null,8,["model-value","options"])]),n("div",Ae,[c(l.SearchableSelect,{"model-value":l.uiStore.selectedMetric,options:l.metricOptions,placeholder:"Metrik...",label:"Metrik",size:"md",searchable:!1,onChange:l.handleMetricChange},null,8,["model-value"])]),n("div",Ke,[n("button",{class:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 flex items-center space-x-2",title:"Daten exportieren",onClick:l.exportData},r[0]||(r[0]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),n("span",{class:"hidden sm:inline"},"Export",-1)])),n("button",{disabled:l.dataStore.isLoading,class:s(["px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",l.dataStore.isLoading?"border-primary-300 dark:border-primary-600 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-primary-500 dark:border-primary-400 bg-primary-500 dark:bg-primary-600 text-white hover:bg-primary-600 dark:hover:bg-primary-500"]),title:"Daten aktualisieren",onClick:l.refreshData},[(t(),a("svg",{class:s(["w-4 h-4",{"animate-spin":l.dataStore.isLoading}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r[1]||(r[1]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]),2)),r[2]||(r[2]=n("span",{class:"hidden sm:inline"},"Aktualisieren",-1))],10,$e),n("button",{class:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 flex items-center space-x-2",title:"Ansicht zurücksetzen",onClick:l.resetView},r[3]||(r[3]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),n("span",{class:"hidden sm:inline"},"Reset",-1)]))])])}],["__file","ProductSelector.vue"]]);export{L as B,T as E,E as L,_e as M,He as P,Pe as R,de as S,K as a};
//# sourceMappingURL=ui-components-8C-aqfMN.js.map

import{a as e,u as t,b as a}from"./stores-D-2ZrdBw.js";import{L as r,B as n}from"./ui-components-BBmjzzY0.js";import{s,n as i,i as o,z as l,l as c,a as d,g as u,m as p,h as y,j as h,k as m,o as g,p as f,e as v,r as x,u as b,v as k,b as w,w as C,d as A,x as S,y as _,A as M,B as z,C as R,D as L,E as B,F as T}from"./d3-vendor-D3zeXOrT.js";import{d as P,r as E,c as D,w as N,a as I,n as $,b as U,e as F,l as G,p as O,g as K,f as j,i as V,t as H,j as Y,q,k as W,s as Z,F as J,h as X}from"./vue-vendor-DKeBeTOX.js";import{_ as Q}from"./panels-HNJlyK_X.js";import{a as ee,b as te,c as ae}from"./composables-DOD5TLdC.js";const re={ref:"containerRef",class:"chart-container relative w-full h-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",style:{"min-height":"600px",width:"100%",height:"100%"}},ne={key:1,class:"absolute inset-0 bg-error-50 dark:bg-error-900/20 flex items-center justify-center z-10"},se={class:"text-center"},ie={class:"text-error-600 dark:text-error-400 mb-3"},oe={class:"absolute top-4 right-4 z-20 flex flex-col space-y-2"},le={ref:"svgContainerRef",class:"map-svg-container",style:{width:"100%",height:"100%","min-height":"600px",position:"relative"}},ce={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-500"};const de=Q(P({__name:"WorldMap",props:{width:{default:800},height:{default:600},selectedProduct:{default:"Wheat and products"},selectedYear:{default:2022},selectedMetric:{default:"production"}},emits:["countryClick","countryHover"],setup(v,{expose:x,emit:b}){const k=v,w=b,C=e(),A=t(),S=a(),_=E(),M=E(),z=E(!1),R=E(null);let L=null,B=[];const T=E(!1),P=E(null),F=E([0,1e8]);let G=null;const O={element:null,init:()=>{G||(G=s("body").append("div").attr("class","worldmap-tooltip").style("position","absolute").style("padding","10px").style("background","rgba(0, 0, 0, 0.9)").style("color","white").style("border-radius","4px").style("pointer-events","none").style("font-size","14px").style("box-shadow","0 2px 4px rgba(0,0,0,0.2)").style("z-index","9999").style("opacity",0).style("transition","opacity 0.2s")),O.element=G},show:(e,t,a)=>{G||O.init();const r=a?a():"No data",n=e.pageX||e.clientX,s=e.pageY||e.clientY;G.html(r).style("opacity",1).style("left",n+10+"px").style("top",s-28+"px")},hide:()=>{G&&G.style("opacity",0)},destroy:()=>{G&&(G.remove(),G=null)}},K=()=>Array.isArray(B)?B.filter(e=>e.value>0):[];let j,V,H,Y;const q=["#f7fcf5","#e5f5e0","#a8dba8","#7bc96f","#4eb157","#2e8b3e","#1b7828","#0d5814","#003300"],W=D(()=>({projection:"naturalEarth1",colorScheme:q,...S.getVisualizationConfig("worldMap")})),Z=async()=>{if(_.value&&M.value&&!T.value){T.value=!0;try{z.value=!0,R.value=null;const e=await C.loadGeoData("geo");L=e,O.init(),J(e)}catch(e){R.value="Fehler beim Laden der Karte"}finally{requestAnimationFrame(()=>{z.value=!1})}}},J=e=>{var t;if(!M.value)return;if(!(null==e?void 0:e.features)||!Array.isArray(e.features))return;const a=M.value,r=s(a),n=r.select("svg");n.empty()||n.remove();const c=M.value.getBoundingClientRect();let d=c.width,u=c.height;if(d<10||u<10){const e=null==(t=_.value)?void 0:t.getBoundingClientRect();if(e&&e.width>10&&e.height>10)d=e.width,u=e.height;else if(M.value.parentElement){const e=M.value.parentElement.getBoundingClientRect();d=e.width||k.width,u=e.height||k.height}}d<100&&(d=k.width),u<100&&(u=k.height),0!==d&&0!==u||(d=k.width,u=k.height);const p=r.append("svg").attr("class","world-map-svg").attr("width",d).attr("height",u).attr("viewBox",`0 0 ${d} ${u}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").style("display","block").style("background-color","transparent");j=i().scale(d/5.5).translate([d/2,u/2.2]),V=o().projection(j),Y=l().scaleExtent([.8,8]).on("zoom",e=>{p.select(".map-container").attr("transform",e.transform)}),p.call(Y);const y=p.append("g").attr("class","map-container");X(y,e.features);K().length>0&&re(y)},X=(e,t)=>{const a=document.documentElement.classList.contains("dark"),r=a?"#374151":"#e5e7eb",n=a?"#4B5563":"#ffffff",s=e.selectAll(".country").data(t,e=>e.properties.iso_a3||e.properties.adm0_a3||e.properties.name);s.exit().remove();const i=s.enter().append("path").attr("class","country").attr("d",V).attr("fill",r).attr("stroke",n).attr("stroke-width",.5).style("cursor","pointer").on("click",ie).on("mouseover",oe).on("mouseout",le);s.merge(i).attr("d",V).attr("fill",r).attr("stroke",n),e.selectAll(".country").size()},Q=e=>{if(e.select(".legend-group").remove(),!P.value||!F.value)return;const t=200,a=20,r=30,n=e.node(),s=n?n.clientWidth:k.width,i=n?n.clientHeight:k.height,o=e.append("g").attr("class","legend-group").attr("transform",`translate(${s-t-a}, ${i-10-r})`),l="legend-gradient";let p=e.select("defs");p.empty()&&(p=e.append("defs"));const y=p.append("linearGradient").attr("id",l).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%"),h=document.documentElement.classList.contains("dark"),m=h?"#4B5563":"#e5e7eb";o.append("rect").attr("width",t).attr("height",10).attr("fill",`url(#${l})`).attr("stroke",m).attr("stroke-width",.5);const g=c().domain(F.value).range([0,t]);if(y.selectAll("stop").remove(),P.value&&P.value.quantiles){const e=[0,...P.value.quantiles(),F.value[1]];q.forEach((a,r)=>{if(r<e.length-1){const n=g(e[r])/t,s=g(e[r+1])/t;y.append("stop").attr("offset",100*n+"%").attr("stop-color",a),r<q.length-1&&y.append("stop").attr("offset",100*s+"%").attr("stop-color",a)}})}else q.forEach((e,t)=>{y.append("stop").attr("offset",t/(q.length-1)*100+"%").attr("stop-color",e)});const f=d(g).ticks(5).tickFormat(e=>e>=1e6?u(".1s")(e):e>=1e3?u(".0s")(e):u(".0f")(e)),v=h?"#D1D5DB":"#374151",x=o.append("g").attr("transform","translate(0, 10)").call(f);x.selectAll("text").style("font-size","10px").style("fill",v),x.selectAll("path").style("stroke",v),x.selectAll("line").style("stroke",v),o.append("text").attr("x",100).attr("y",-5).attr("text-anchor","middle").style("font-size","11px").style("font-weight","500").style("fill",v).text("production"===k.selectedMetric?"Produktion (t)":"import_quantity"===k.selectedMetric?"Import (t)":"export_quantity"===k.selectedMetric?"Export (t)":"Versorgung (t)")},ee=async()=>{if(k.selectedProduct&&k.selectedYear)try{let e=null;if(C.timeseriesData&&C.timeseriesData[k.selectedProduct]){const t=C.getTimeseriesDataForProduct(k.selectedProduct,k.selectedYear);t&&(e=Object.entries(t).map(([e,t])=>{const a="production"===k.selectedMetric?"production":"import_quantity"===k.selectedMetric?"imports":"export_quantity"===k.selectedMetric?"exports":"domestic_supply_quantity"===k.selectedMetric?"domestic_supply":"production";return{country:e,countryCode:te(e),value:t[a]||0,unit:t.unit||"t",year:k.selectedYear,element:k.selectedMetric}}).filter(e=>e.value>0))}else e=await C.loadProductionData(k.selectedProduct,k.selectedYear);if(e){let t=[];Array.isArray(e)?t=e.map(e=>({country:e.country||e.Area||"",countryCode:e.countryCode||e.iso3||te(e.country||e.Area||""),value:e.value||e.Value||0,unit:e.unit||e.Unit||"t",year:e.year||e.Year||k.selectedYear,element:e.element||e.Element||k.selectedMetric})):e.data&&Array.isArray(e.data)?t=e.data.map(e=>({country:e.country||e.Area||"",countryCode:e.countryCode||e.iso3||te(e.country||e.Area||""),value:e.value||e.Value||0,unit:e.unit||e.Unit||"t",year:e.year||e.Year||k.selectedYear,element:e.element||e.Element||k.selectedMetric})):"object"==typeof e&&(t=Object.entries(e).map(([e,t])=>({country:e,countryCode:te(e),value:t.value||t.Value||0,unit:t.unit||t.Unit||"t",year:t.year||t.Year||k.selectedYear,element:t.element||t.Element||k.selectedMetric}))),B=t,ne()}}catch(e){B=[]}},te=e=>({China:"CHN","China, mainland":"CHN","United States":"USA","United States of America":"USA",Brazil:"BRA",Argentina:"ARG",Ukraine:"UKR",India:"IND",Mexico:"MEX",Indonesia:"IDN",France:"FRA",Romania:"ROU",Germany:"DEU",Turkey:"TUR","Russian Federation":"RUS",Russia:"RUS",Philippines:"PHL",Nigeria:"NGA",Iran:"IRN","Iran (Islamic Republic of)":"IRN",Pakistan:"PAK",Italy:"ITA",Canada:"CAN",Thailand:"THA","South Africa":"ZAF",Egypt:"EGY",Morocco:"MAR",Kenya:"KEN",Ethiopia:"ETH",Ghana:"GHA",Tanzania:"TZA",Uganda:"UGA",Madagascar:"MDG",Mozambique:"MOZ",Cameroon:"CMR",Mali:"MLI","Burkina Faso":"BFA",Niger:"NER",Senegal:"SEN",Guinea:"GIN",Benin:"BEN",Burundi:"BDI",Rwanda:"RWA",Chad:"TCD","Central African Republic":"CAF","Democratic Republic of the Congo":"COD",Congo:"COG",Gabon:"GAB","Equatorial Guinea":"GNQ","Sao Tome and Principe":"STP","Cape Verde":"CPV",Gambia:"GMB","Guinea-Bissau":"GNB",Liberia:"LBR","Sierra Leone":"SLE","Côte d'Ivoire":"CIV",Togo:"TGO",Comoros:"COM",Mauritius:"MUS",Seychelles:"SYC",Djibouti:"DJI",Eritrea:"ERI",Somalia:"SOM",Sudan:"SDN","South Sudan":"SSD",Libya:"LBY",Tunisia:"TUN",Algeria:"DZA",Spain:"ESP",Portugal:"PRT","United Kingdom":"GBR",Ireland:"IRL",Netherlands:"NLD",Belgium:"BEL",Luxembourg:"LUX",Switzerland:"CHE",Austria:"AUT",Poland:"POL","Czech Republic":"CZE",Slovakia:"SVK",Hungary:"HUN",Slovenia:"SVN",Croatia:"HRV","Bosnia and Herzegovina":"BIH",Serbia:"SRB",Montenegro:"MNE","North Macedonia":"MKD",Albania:"ALB",Greece:"GRC",Bulgaria:"BGR",Moldova:"MDA",Belarus:"BLR",Lithuania:"LTU",Latvia:"LVA",Estonia:"EST",Finland:"FIN",Sweden:"SWE",Norway:"NOR",Denmark:"DNK",Iceland:"ISL",Japan:"JPN","South Korea":"KOR","North Korea":"PRK",Mongolia:"MNG",Kazakhstan:"KAZ",Kyrgyzstan:"KGZ",Tajikistan:"TJK",Turkmenistan:"TKM",Uzbekistan:"UZB",Afghanistan:"AFG",Bangladesh:"BGD",Bhutan:"BTN",Nepal:"NPL","Sri Lanka":"LKA",Maldives:"MDV",Myanmar:"MMR",Laos:"LAO",Vietnam:"VNM",Cambodia:"KHM",Malaysia:"MYS",Singapore:"SGP",Brunei:"BRN","East Timor":"TLS","Papua New Guinea":"PNG",Australia:"AUS","New Zealand":"NZL",Fiji:"FJI","Solomon Islands":"SLB",Vanuatu:"VUT","New Caledonia":"NCL","French Polynesia":"PYF",Samoa:"WSM",Tonga:"TON",Kiribati:"KIR",Tuvalu:"TUV",Nauru:"NRU",Palau:"PLW","Marshall Islands":"MHL",Micronesia:"FSM",Czechia:"CZE","Türkiye":"TUR",Turkey:"TUR","Viet Nam":"VNM","United Kingdom of Great Britain and Northern Ireland":"GBR","Bolivia (Plurinational State of)":"BOL","Venezuela (Bolivarian Republic of)":"VEN","Iran (Islamic Republic of)":"IRN","Korea, Republic of":"KOR","Democratic People's Republic of Korea":"PRK","Lao People's Democratic Republic":"LAO","Timor-Leste":"TLS","Côte d'Ivoire":"CIV","United Republic of Tanzania":"TZA","Syrian Arab Republic":"SYR"}[e]||e.substring(0,3).toUpperCase()),ae=e=>{if(!e)return"";return{"United States":"United States of America",USA:"United States of America",US:"United States of America",UK:"United Kingdom",Britain:"United Kingdom","South Korea":"Republic of Korea","North Korea":"Democratic People's Republic of Korea",Russia:"Russian Federation",Iran:"Iran (Islamic Republic of)",Syria:"Syrian Arab Republic",Venezuela:"Venezuela (Bolivarian Republic of)",Bolivia:"Bolivia (Plurinational State of)",Tanzania:"United Republic of Tanzania",Congo:"Republic of the Congo","Democratic Republic of the Congo":"Democratic Republic of the Congo",DRC:"Democratic Republic of the Congo","Czech Republic":"Czechia",Macedonia:"North Macedonia",Burma:"Myanmar","East Timor":"Timor-Leste","Cape Verde":"Cabo Verde","Ivory Coast":"Côte d'Ivoire",Swaziland:"Eswatini"}[e]||e},re=e=>{const t=K();if(!t.length)return;se(e,t);const a=s(M.value).select("svg");!a.empty()&&P.value&&Q(a)},ne=()=>{const e=M.value;if(!e)return;const t=s(e).select(".map-container");t.empty()||re(t)},se=(e,t)=>{if(!t||!Array.isArray(t))return;const a=new Map,r=new Map,n=new Map;t.forEach(e=>{if(e.value>0){a.set(e.country.toLowerCase(),e.value),e.countryCode&&r.set(e.countryCode,e.value);const t=ae(e.country).toLowerCase();n.set(t,e.value)}});const s=t.filter(e=>e.value>0).map(e=>e.value);if(s.length>0){const e=p(s);y(s),F.value=[0,e];const t=s.sort((e,t)=>e-t);H=h().domain(t).range(q),P.value=H}e.selectAll(".country").transition().duration(750).attr("fill",t=>{const s=(t.properties.name||t.properties.NAME||t.properties.admin||"").toLowerCase(),i=t.properties.iso_a3||t.properties.ISO_A3||t.properties.adm0_a3||t.properties.ADM0_A3,o=ae(t.properties.name||t.properties.NAME||"").toLowerCase();let l=null;if(i&&r.has(i)?l=r.get(i):n.has(o)?l=n.get(o):a.has(s)&&(l=a.get(s)),l&&H){const a=H(l);return e.selectAll(".country").nodes().indexOf(t),a}return document.documentElement.classList.contains("dark")?"#374151":"#e5e7eb"}).attr("opacity",e=>{const t=(e.properties.name||e.properties.NAME||e.properties.admin||"").toLowerCase(),s=e.properties.iso_a3||e.properties.ISO_A3||e.properties.adm0_a3||e.properties.ADM0_A3,i=ae(e.properties.name||e.properties.NAME||"").toLowerCase();return s&&r.has(s)||n.has(i)||a.has(t)?1:.6})},ie=(e,t)=>{const a=t.properties.name,r=t.properties.iso_a3;A.setSelectedCountry(a),w("countryClick",r),ce(t)},oe=(e,t)=>{var a;const r=t.properties.name||t.properties.NAME||t.properties.admin,n=t.properties.iso_a3||t.properties.adm0_a3,i=ae(r||"");s(e.currentTarget).transition().duration(100).attr("stroke","#3b82f6").attr("stroke-width",2).style("filter","brightness(1.1)");const o=K().find(e=>e.countryCode===n||e.country.toLowerCase()===(null==r?void 0:r.toLowerCase())||e.country.toLowerCase()===(null==i?void 0:i.toLowerCase()));let l=`<strong>${r}</strong><br/>`;if(o&&o.value>0){const e=u(",.0f")(o.value),t=(null==(a=k.selectedProduct)?void 0:a.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()))||"Produkt",r="production"===k.selectedMetric?"Produktion":"import_quantity"===k.selectedMetric?"Import":"export_quantity"===k.selectedMetric?"Export":"Inlandsversorgung";l+=`<span style="color: #fbbf24">${t}</span><br/>`,l+=`${r}: <strong>${e}</strong> ${o.unit||"t"}<br/>`,l+=`<span style="color: #9ca3af; font-size: 12px">Jahr: ${k.selectedYear}</span>`}else l+='<span style="color: #ef4444">Keine Daten verfügbar</span>';O.show(e,t,()=>l),w("countryHover",n)},le=(e,t)=>{const a=document.documentElement.classList.contains("dark")?"#4B5563":"#ffffff";s(e.currentTarget).transition().duration(100).attr("stroke",a).attr("stroke-width",.5).style("filter","none"),O.hide(),w("countryHover",null)},ce=e=>{if(!V||!Y)return;const t=s(M.value).select("svg");if(t.empty())return;const a=V.bounds(e),r=a[1][0]-a[0][0],n=a[1][1]-a[0][1],i=(a[0][0]+a[1][0])/2,o=(a[0][1]+a[1][1])/2,l=t.node(),c=l?l.clientWidth:k.width,d=l?l.clientHeight:k.height,u=Math.min(8,.9/Math.max(r/c,n/d)),p=[c/2-u*i,d/2-u*o];t.transition().duration(750).call(Y.transform,f.translate(p[0],p[1]).scale(u))},de=()=>{const e=s(M.value).select("svg");!e.empty()&&Y&&e.transition().duration(750).call(Y.transform,f)},ue=()=>{const e=s(M.value);if(e.empty())return;const t=document.documentElement.classList.contains("dark"),a=t?"#374151":"#e5e7eb",r=t?"#4B5563":"#ffffff";e.selectAll(".country").each(function(e){const t=s(this),n=t.attr("fill");"#e5e7eb"!==n&&"#374151"!==n||t.attr("fill",a),t.attr("stroke",r)})},pe=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"class"===e.attributeName&&ue()})});N([()=>k.selectedProduct,()=>k.selectedYear,()=>k.selectedMetric],async()=>{await ee()},{immediate:!0}),I(async()=>{await $(),setTimeout(async()=>{requestAnimationFrame(async()=>{try{await Z(),await ee(),document.documentElement&&pe.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}catch(e){T.value=!1}})},100)}),U(()=>{O&&O.destroy&&O.destroy(),pe.disconnect(),S.setMapInstance(null)}),x({resetZoom:de,loadProductionData:ee,zoomToCountry:ce});const ye={props:k,emit:w,dataStore:C,uiStore:A,vizStore:S,containerRef:_,svgContainerRef:M,isLoading:z,error:R,get geoDataStatic(){return L},set geoDataStatic(e){L=e},get productionDataStatic(){return B},set productionDataStatic(e){B=e},isInitialized:T,legendScale:P,legendDomain:F,get tooltipDiv(){return G},set tooltipDiv(e){G=e},tooltip:O,getProcessedProductionData:K,get projection(){return j},set projection(e){j=e},get path(){return V},set path(e){V=e},get colorScale(){return H},set colorScale(e){H=e},get zoom(){return Y},set zoom(e){Y=e},greenColorScheme:q,mapConfig:W,initializeMap:Z,createMapDirect:J,drawCountriesDirect:X,createLegend:Q,setupMap:(e,t)=>{(null==t?void 0:t.features)&&Array.isArray(t.features)},drawCountries:(e,t)=>{t&&Array.isArray(t)&&t.length},loadProductionData:ee,getCountryCode:te,normalizeCountryName:ae,updateMapWithProductionDataDirect:re,updateMapWithProductionDataStatic:ne,applyProductionDataDirect:se,updateMapWithProductionData:()=>{if(!K().length)return;const e=s(M.value).select(".map-container");e.empty()||re(e)},applyProductionData:(e,t)=>{if(!t||!Array.isArray(t))return;const a=new Map,r=new Map,n=new Map;t.forEach(e=>{if(e.value>0){a.set(e.country.toLowerCase(),e.value),r.set(e.countryCode,e.value);const t=ae(e.country).toLowerCase();n.set(t,e.value)}});const s=Array.from(a.values()).filter(e=>e>0);if(s.length>0){const e=m(s),t=W.value.colorScheme;H=g().domain(e).range(t)}e.selectAll(".country").transition().duration(750).attr("fill",e=>{const t=(e.properties.name||e.properties.NAME||e.properties.admin||"").toLowerCase(),s=e.properties.iso_a3||e.properties.adm0_a3,i=ae(e.properties.name||e.properties.admin||"").toLowerCase();let o=r.get(s)||n.get(i)||a.get(t);if(o&&H)return H(o);return document.documentElement.classList.contains("dark")?"#374151":"#e5e7eb"}).attr("opacity",e=>{const t=(e.properties.name||e.properties.NAME||e.properties.admin||"").toLowerCase(),s=e.properties.iso_a3||e.properties.adm0_a3,i=ae(e.properties.name||e.properties.admin||"").toLowerCase();return r.has(s)||n.has(i)||a.has(t)?1:.6})},handleCountryClick:ie,handleCountryMouseover:oe,handleCountryMouseout:le,zoomToCountry:ce,resetZoom:de,updateThemeStyles:ue,themeObserver:pe,handleResize:()=>{},BaseButton:n,LoadingSpinner:r};return Object.defineProperty(ye,"__isScriptSetup",{enumerable:!1,value:!0}),ye}}),[["render",function(e,t,a,r,n,s){return G(),F("div",re,[r.isLoading?(G(),O(r.LoadingSpinner,{key:0,overlay:!0,centered:!0,text:"Lädt Karte...",size:"md"})):K("",!0),r.error?(G(),F("div",ne,[j("div",se,[j("p",ie,H(r.error),1),V(r.BaseButton,{onClick:r.initializeMap,variant:"danger",size:"sm"},{default:Y(()=>t[0]||(t[0]=[q(" Erneut versuchen ")])),_:1,__:[0]})])])):K("",!0),j("div",oe,[V(r.BaseButton,{onClick:r.resetZoom,variant:"secondary",size:"sm",icon:!0,class:"!p-2",title:"Zoom zurücksetzen"},{default:Y(()=>t[1]||(t[1]=[j("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[j("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])),_:1,__:[1]})]),j("div",le,[r.isInitialized||r.isLoading||r.error?K("",!0):(G(),F("div",ce,t[2]||(t[2]=[j("p",null,"Karte wird initialisiert...",-1)])))],512)],512)}],["__scopeId","data-v-73ae50a4"],["__file","WorldMap.vue"]]),ue=P({__name:"TimeseriesChart",props:{width:{default:600},height:{default:400},selectedCountry:{default:""},selectedProduct:{default:"Wheat and products"},selectedMetric:{default:"production"},showGrid:{type:Boolean,default:!0},showPoints:{type:Boolean,default:!0}},emits:["pointHover","pointClick"],setup(t,{expose:a,emit:i}){const o=t,l=i,y=e(),h=E(),g=E(!1),f=E(null),C=E([]),A={top:20,right:30,bottom:40,left:60};let S,_,M,z,R,L,B;const T=()=>{if(!h.value)return;s(h.value).selectAll("*").remove();const e=h.value.getBoundingClientRect(),t=e.width||600,a=e.height||400,r=t-A.left-A.right,n=a-A.top-A.bottom;S=s(h.value).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${t} ${a}`).attr("preserveAspectRatio","xMidYMid meet").attr("class","timeseries-chart"),_=S.append("g").attr("transform",`translate(${A.left},${A.top})`),M=v().range([0,r]),z=c().range([n,0]),R=x().x(e=>M(new Date(e.year,0,1))).y(e=>z(e.value)).curve(b),_.append("g").attr("class","x-axis").attr("transform",`translate(0,${n})`),_.append("g").attr("class","y-axis"),o.showGrid&&(_.append("g").attr("class","grid x-grid").attr("transform",`translate(0,${n})`),_.append("g").attr("class","grid y-grid"));const i=document.documentElement.classList.contains("dark")?"#9CA3AF":"#374151";_.append("text").attr("class","x-label").attr("text-anchor","middle").attr("x",r/2).attr("y",n+35).text("Jahr").style("font-size","12px").style("fill",i),_.append("text").attr("class","y-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-n/2).attr("y",-40).text(D()).style("font-size","12px").style("fill",i),L=s("body").append("div").attr("class","timeseries-tooltip").style("position","absolute").style("padding","8px 12px").style("background","rgba(6, 78, 59, 0.95)").style("color","white").style("border","1px solid #10b981").style("border-radius","6px").style("font-size","12px").style("font-weight","500").style("pointer-events","none").style("opacity",0).style("z-index",1e3).style("box-shadow","0 4px 6px -1px rgba(0, 0, 0, 0.1)"),P()},P=()=>{h.value&&window.ResizeObserver&&(B=new ResizeObserver(()=>{C.value.length>0&&F()}),B.observe(h.value))},D=()=>{switch(o.selectedMetric){case"production":return"Produktion (t)";case"import_quantity":return"Import (t)";case"export_quantity":return"Export (t)";case"domestic_supply_quantity":return"Inlandsversorgung (t)";default:return"Wert (t)"}},$=async()=>{if(o.selectedProduct)try{if(g.value=!0,f.value=null,y.timeseriesData){const e=o.selectedProduct;if(y.timeseriesData[e]){const t=y.timeseriesData[e],a=[];if(o.selectedCountry&&t[o.selectedCountry]){t[o.selectedCountry].forEach(t=>{const r=t["production"===o.selectedMetric?"production":"import_quantity"===o.selectedMetric?"imports":"export_quantity"===o.selectedMetric?"exports":"domestic_supply"]||0;r>0&&a.push({year:t.year,value:r,country:o.selectedCountry,product:e,unit:t.unit||"t"})})}else{const r=new Map;Object.entries(t).forEach(([e,t])=>{t.forEach(e=>{const t=e["production"===o.selectedMetric?"production":"import_quantity"===o.selectedMetric?"imports":"export_quantity"===o.selectedMetric?"exports":"domestic_supply"]||0;if(t>0){const a=e.year,n=r.get(a)||0;r.set(a,n+t)}})}),r.forEach((t,r)=>{a.push({year:r,value:t,country:"Global",product:e,unit:"t"})})}return C.value=a.sort((e,t)=>e.year-t.year),void F()}}const e=(y.availableYears||[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022]).map(e=>y.loadProductionData(o.selectedProduct,e).then(t=>({year:e,data:t})).catch(t=>({year:e,error:t}))),t=await Promise.all(e),a=[];t.forEach(({year:e,data:t,error:r})=>{r||(null==t?void 0:t.data)&&t.data.forEach(t=>{if(o.selectedCountry)t.country===o.selectedCountry&&t.value>0&&a.push({year:e,value:t.value,country:t.country,product:t.product,unit:t.unit});else{const r=a.find(t=>t.year===e);r?r.value+=t.value:t.value>0&&a.push({year:e,value:t.value,country:"Global",product:t.product,unit:t.unit})}})}),C.value=a,F()}catch(e){f.value="Fehler beim Laden der Zeitreihen-Daten"}finally{g.value=!1}},F=()=>{var e;if(!_||!C.value.length)return;const t=C.value.filter(e=>e.value>0).sort((e,t)=>e.year-t.year);if(!t.length)return;const a=null==(e=h.value)?void 0:e.getBoundingClientRect(),r=(null==a?void 0:a.width)||600,n=(null==a?void 0:a.height)||400,s=r-A.left-A.right,i=n-A.top-A.bottom;S.attr("viewBox",`0 0 ${r} ${n}`);const l=t.map(e=>new Date(e.year,0,1)),c=t.map(e=>e.value);M.domain(m(l)),z.domain([0,p(c)]);const y=document.documentElement.classList.contains("dark"),g=y?"#9CA3AF":"#374151",f=y?"#4B5563":"#E5E7EB",v=d(M).tickFormat(k("%Y")).tickSizeOuter(0),x=w(z).tickFormat(u(".2s")).tickSizeOuter(0),b=_.select(".x-axis").transition().duration(750).call(v),L=_.select(".y-axis").transition().duration(750).call(x);if(b.selectAll("path").style("stroke",g).style("stroke-width","1px"),b.selectAll("line").style("stroke",g).style("stroke-width","1px"),b.selectAll("text").style("fill",g).style("font-size","12px"),L.selectAll("path").style("stroke",g).style("stroke-width","1px"),L.selectAll("line").style("stroke",g).style("stroke-width","1px"),L.selectAll("text").style("fill",g).style("font-size","12px"),o.showGrid){const e=_.select(".x-grid").transition().duration(750).call(d(M).tickSize(-i).tickFormat(()=>"").tickSizeOuter(0)),t=_.select(".y-grid").transition().duration(750).call(w(z).tickSize(-s).tickFormat(()=>"").tickSizeOuter(0));e.selectAll("path").style("stroke","none"),e.selectAll("line").style("stroke",f).style("stroke-width","1px").style("opacity",.5),t.selectAll("path").style("stroke","none"),t.selectAll("line").style("stroke",f).style("stroke-width","1px").style("opacity",.5)}const B=_.selectAll(".line-path").data([t]);if(B.enter().append("path").attr("class","line-path").attr("fill","none").attr("stroke","#059669").attr("stroke-width",2.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").merge(B).transition().duration(750).attr("d",R),B.exit().remove(),o.showPoints){const e=_.selectAll(".data-point").data(t,e=>e.year);e.enter().append("circle").attr("class","data-point").attr("r",0).attr("fill","#047857").attr("stroke","#10b981").attr("stroke-width",2).style("cursor","pointer").on("mouseover",G).on("mouseout",O).on("click",K).merge(e).transition().duration(750).attr("r",5).attr("cx",e=>M(new Date(e.year,0,1))).attr("cy",e=>z(e.value)),e.exit().transition().duration(500).attr("r",0).remove()}_.select(".y-label").text(D()).style("fill",g),_.select(".x-label").style("fill",g)},G=(e,t)=>{s(e.target).transition().duration(150).attr("r",7).attr("stroke-width",3).attr("stroke","#34d399"),L.style("opacity",1).html(`\n      <strong>${t.country||"Global"}</strong><br/>\n      Jahr: ${t.year}<br/>\n      ${D()}: ${u(",.0f")(t.value)} ${t.unit||"t"}\n    `).style("left",e.pageX+10+"px").style("top",e.pageY-10+"px"),l("pointHover",t)},O=e=>{s(e.target).transition().duration(150).attr("r",5).attr("stroke-width",2).attr("stroke","#10b981"),L.style("opacity",0),l("pointHover",null)},K=(e,t)=>{l("pointClick",t)},j=()=>{B&&B.disconnect(),L&&L.remove(),h.value&&s(h.value).selectAll("*").remove()},V=()=>{if(!_)return;const e=document.documentElement.classList.contains("dark"),t=e?"#9CA3AF":"#374151",a=e?"#4B5563":"#E5E7EB";_.select(".x-axis").selectAll("path").style("stroke",t),_.select(".x-axis").selectAll("line").style("stroke",t),_.select(".x-axis").selectAll("text").style("fill",t),_.select(".y-axis").selectAll("path").style("stroke",t),_.select(".y-axis").selectAll("line").style("stroke",t),_.select(".y-axis").selectAll("text").style("fill",t),_.select(".x-grid").selectAll("line").style("stroke",a),_.select(".y-grid").selectAll("line").style("stroke",a),_.select(".x-label").style("fill",t),_.select(".y-label").style("fill",t)},H=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"class"===e.attributeName&&V()})});N([()=>o.selectedCountry,()=>o.selectedProduct,()=>o.selectedMetric],()=>{$()}),I(()=>{T(),$(),document.documentElement&&H.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),U(()=>{j(),H.disconnect()}),a({loadData:$,updateChart:F});const Y={props:o,emit:l,dataStore:y,svgContainerRef:h,isLoading:g,error:f,chartData:C,margin:A,get svg(){return S},set svg(e){S=e},get g(){return _},set g(e){_=e},get xScale(){return M},set xScale(e){M=e},get yScale(){return z},set yScale(e){z=e},get line(){return R},set line(e){R=e},get tooltip(){return L},set tooltip(e){L=e},get resizeObserver(){return B},set resizeObserver(e){B=e},initializeChart:T,setupResizeObserver:P,getMetricLabel:D,loadData:$,updateChart:F,handlePointMouseover:G,handlePointMouseout:O,handlePointClick:K,cleanup:j,updateThemeStyles:V,observer:H,BaseButton:n,LoadingSpinner:r};return Object.defineProperty(Y,"__isScriptSetup",{enumerable:!1,value:!0}),Y}}),pe={class:"timeseries-chart-wrapper relative w-full h-full flex flex-col"},ye={key:1,class:"absolute inset-0 bg-error-50 dark:bg-error-900/20 flex items-center justify-center z-10"},he={class:"text-center"},me={class:"text-error-600 dark:text-error-400 mb-3"},ge={key:2,class:"px-4 py-2 border-b border-gray-200 dark:border-gray-700 flex-shrink-0"},fe={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},ve={ref:"svgContainerRef",class:"timeseries-svg-container flex-1 w-full min-h-0"},xe={key:3,class:"absolute inset-0 flex items-center justify-center text-gray-500 dark:text-gray-400"};const be=Q(ue,[["render",function(e,t,a,r,n,s){return G(),F("div",pe,[r.isLoading?(G(),O(r.LoadingSpinner,{key:0,overlay:!0,centered:!0,text:"Lädt Zeitreihen...",size:"md"})):K("",!0),r.error?(G(),F("div",ye,[j("div",he,[j("p",me,H(r.error),1),V(r.BaseButton,{onClick:r.loadData,variant:"danger",size:"sm"},{default:Y(()=>t[0]||(t[0]=[q(" Erneut versuchen ")])),_:1,__:[0]})])])):K("",!0),r.props.selectedCountry||r.chartData.length>0?(G(),F("div",ge,[j("h4",fe,H(r.props.selectedCountry||"Global")+" - "+H(r.getMetricLabel()),1)])):K("",!0),j("div",ve,null,512),r.isLoading||r.error||0!==r.chartData.length?K("",!0):(G(),F("div",xe,t[1]||(t[1]=[j("div",{class:"text-center"},[j("svg",{class:"w-12 h-12 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[j("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),j("p",null,"Keine Zeitreihen-Daten verfügbar"),j("p",{class:"text-xs mt-1"},"Wählen Sie ein Produkt oder Land aus")],-1)])))])}],["__file","TimeseriesChart.vue"]]),ke={ref:"containerRef",class:"chart-container relative w-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700"},we={key:1,class:"absolute inset-0 bg-error-50 dark:bg-error-900/20 flex items-center justify-center z-10"},Ce={class:"text-center"},Ae={class:"text-error-600 dark:text-error-400 mb-3"},Se={key:2,class:"p-4 border-b border-gray-200 dark:border-gray-700"},_e={key:3,class:"p-4 min-h-[400px]"},Me={key:4,class:"absolute inset-0 flex items-center justify-center text-gray-500 dark:text-gray-400 pointer-events-none"};const ze=Q(P({__name:"SimulationChart",props:{data:{default:()=>[]},config:{default:()=>({})},width:{default:800},height:{default:500},selectedScenario:{default:"climate_change"},simulationRuns:{default:100}},emits:["scenario-select","runSimulation"],setup(e,{expose:t,emit:n}){t();const i=e,o=n,l=a(),p=E(),y=E(null),h=E(!1),g=E(null),f=D(()=>({top:20,right:30,bottom:40,left:60})),v=D(()=>{const e=p.value;if(!e)return{width:800,height:400};const t=e.getBoundingClientRect();return{width:Math.max(400,t.width||800),height:400}}),k=D(()=>({baselineColor:"#6b7280",scenarioColor:"#ef4444"})),A=async()=>{await $();try{h.value=!0,g.value=null,await S()}catch(e){g.value="Fehler beim Initialisieren der Simulation"}finally{h.value=!1}},S=async()=>{if(!p.value)return;const e=i.data||[],{width:t,height:a}=v.value,r=f.value;s(p.value).selectAll("*").remove();const n=s(p.value).append("svg").attr("width",t).attr("height",a).attr("class","simulation-svg");y.value=n.node();const o=n.append("g").attr("transform",`translate(${r.left},${r.top})`),l=t-r.left-r.right,h=a-r.top-r.bottom;if(0===e.length)return void o.append("text").attr("class","empty-text").attr("x",l/2).attr("y",h/2).attr("text-anchor","middle").style("font-size","14px").style("fill","currentColor").style("opacity",.6).text("Keine Simulationsdaten verfügbar");const g=c().domain(m(e,e=>e.year)).range([0,l]),A=e.reduce((e,t)=>{if(t&&"object"==typeof t){const a=[t.baseline,t.scenario,t.lower,t.upper].filter(e=>null!=e&&!isNaN(e));e.push(...a)}return e},[]),S=c().domain(m(A)).nice().range([h,0]),_=x().x(e=>g(e.year)).y(e=>S(e.baseline)).defined(e=>null!==e.baseline&&void 0!==e.baseline&&!isNaN(e.baseline)).curve(b),M=x().x(e=>g(e.year)).y(e=>S(e.scenario)).defined(e=>null!==e.scenario&&void 0!==e.scenario&&!isNaN(e.scenario)).curve(b),z=C().x(e=>g(e.year)).y0(e=>S(e.lower)).y1(e=>S(e.upper)).defined(e=>null!==e.lower&&void 0!==e.lower&&null!==e.upper&&void 0!==e.upper&&!isNaN(e.lower)&&!isNaN(e.upper)).curve(b);o.append("g").attr("class","x-axis").attr("transform",`translate(0, ${h})`).call(d(g).tickFormat(u("d"))).selectAll("text").style("fill","currentColor"),o.append("g").attr("class","y-axis").call(w(S).tickFormat(e=>u(".2s")(e))).selectAll("text").style("fill","currentColor"),o.selectAll(".domain, .tick line").style("stroke","currentColor").style("opacity",.3),o.append("path").datum(e).attr("class","confidence-area").attr("d",z).style("fill",k.value.scenarioColor).style("fill-opacity",.2),o.append("path").datum(e).attr("class","baseline-line").attr("d",_).style("stroke",k.value.baselineColor).style("stroke-width",2).style("fill","none"),o.append("path").datum(e).attr("class","scenario-line").attr("d",M).style("stroke",k.value.scenarioColor).style("stroke-width",2).style("fill","none").style("stroke-dasharray","5,5");const R=o.append("g").attr("class","legend").attr("transform",`translate(${l-120}, 20)`);R.append("line").attr("x1",0).attr("x2",20).attr("y1",0).attr("y2",0).style("stroke",k.value.baselineColor).style("stroke-width",2),R.append("text").attr("x",25).attr("y",4).style("font-size","12px").style("fill","currentColor").text("Baseline"),R.append("line").attr("x1",0).attr("x2",20).attr("y1",20).attr("y2",20).style("stroke",k.value.scenarioColor).style("stroke-width",2).style("stroke-dasharray","5,5"),R.append("text").attr("x",25).attr("y",24).style("font-size","12px").style("fill","currentColor").text("Szenario")};I(()=>{A()}),N(()=>i.data,()=>{A()},{deep:!0}),U(()=>{p.value&&s(p.value).selectAll("*").remove()});const _={props:i,emit:o,vizStore:l,containerRef:p,svgRef:y,isLoading:h,error:g,margin:f,dimensions:v,chartConfig:k,initializeChart:A,setupChart:S,LoadingSpinner:r};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),[["render",function(e,t,a,r,n,s){const i=W("BaseButton");return G(),F("div",ke,[r.isLoading?(G(),O(r.LoadingSpinner,{key:0,overlay:!0,centered:!0,text:"Lädt Simulation...",size:"md"})):K("",!0),r.error?(G(),F("div",we,[j("div",Ce,[j("p",Ae,H(r.error),1),V(i,{onClick:r.initializeChart,variant:"danger",size:"sm"},{default:Y(()=>t[0]||(t[0]=[q(" Erneut versuchen ")])),_:1,__:[0]})])])):K("",!0),a.data&&a.data.length>0?(G(),F("div",Se,t[1]||(t[1]=[j("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Simulationsergebnisse ",-1),j("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Zeitreihen-Analyse mit Konfidenzintervallen ",-1)]))):K("",!0),a.data&&a.data.length>0?(G(),F("div",_e)):K("",!0),a.data&&0!==a.data.length?K("",!0):(G(),F("div",Me,t[2]||(t[2]=[j("div",{class:"text-center"},[j("svg",{class:"w-12 h-12 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[j("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),j("p",null,"Bereit für Simulation"),j("p",{class:"text-xs mt-1"},"Starten Sie eine Simulation, um die Ergebnisse zu sehen")],-1)])))],512)}],["__file","SimulationChart.vue"]]);const Re=Q({__name:"MLChart",props:{data:{type:Array,default:()=>[]},config:{type:Object,default:()=>({})}},emits:["prediction-select","confidence-toggle"],setup(e,{expose:a,emit:r}){a();const n=e,i=r,o=t(),l=E(null),y=E(null),h=E(null);let g=null;const{dimensions:f,isReady:v,createSVG:k,updateDimensions:_}=ee(l,{}),M=E(!0),z=D(()=>o.isDarkMode),R=e=>{const t=e.predicted_value;let a=e.confidence_lower,r=e.confidence_upper;const n=a,s=r,i=3*t,o=Math.max(0,.1*t);if(r-a>i){const e=i/2;a=Math.max(o,t-e),r=t+e}0===a&&t>1e5&&(a=Math.max(o,.2*t));const l=2.5*t;return r>l&&(r=l),Math.abs(n-a)>.1*t||Math.abs(s-r),{...e,confidence_lower:a,confidence_upper:r}},L=D(()=>{var e,t,a,r;let s=800;"100%"===(null==(e=n.config)?void 0:e.width)?s=(null==(t=l.value)?void 0:t.clientWidth)||800:(null==(a=n.config)?void 0:a.width)&&(s=n.config.width);const i=(null==(r=n.config)?void 0:r.height)||400,o={top:40,right:150,bottom:60,left:80};return{width:s,height:i,innerWidth:s-o.left-o.right,innerHeight:i-o.top-o.bottom,margin:o}}),B=D(()=>{if(!n.data||0===n.data.length)return{predictions:[],historical:[]};return{predictions:n.data.filter(e=>e.type?"prediction"===e.type&&(e.predicted_value>0||e.value>0):e.year>=2023&&(e.predicted_value>0||e.value>0)),historical:n.data.filter(e=>e.type?"historical"===e.type&&(e.value>0||e.predicted_value>0):e.year<2023&&(e.value>0||e.predicted_value>0))}}),T=()=>{if(!v.value||!l.value)return;const{width:e,height:t,margin:a}=L.value;s(l.value).selectAll("svg").remove();const r=k({width:e,height:t,className:"ml-chart-svg",margin:a});r&&(y.value=r.svg,h.value=r.g,P())},P=()=>{if(!h.value||!n.data||0===n.data.length)return;const{innerWidth:e,innerHeight:t}=L.value,{predictions:a,historical:r}=B.value;h.value.selectAll("*").remove();const o=[...r,...a].map(e=>e.year),l=a.filter(e=>null!=e.confidence_lower&&null!=e.confidence_upper&&null!=e.predicted_value&&e.predicted_value>0).map(R),y=[...r.map(e=>e.predicted_value||e.value).filter(e=>null!=e&&e>0),...a.map(e=>e.predicted_value).filter(e=>null!=e&&e>0),...l.map(e=>e.confidence_lower).filter(e=>null!=e&&e>0),...l.map(e=>e.confidence_upper).filter(e=>null!=e&&e>0)];if(0===o.length||0===y.length)return;const g=c().domain(m(o)).range([0,e]),f=c().domain([0,1.1*p(y)]).range([t,0]),v=x().x(e=>g(e.year)).y(e=>f(e.predicted_value||e.value||0)).curve(b),k=C().x(e=>g(e.year)).y0(e=>f(e.confidence_lower||e.predicted_value||e.value||0)).y1(e=>f(e.confidence_upper||e.predicted_value||e.value||0)).curve(b),A=h.value.append("g").attr("transform",`translate(0,${t})`).call(d(g).tickFormat(u("d"))),_=h.value.append("g").call(w(f).tickFormat(u(".2s")));if(A.append("text").attr("x",e/2).attr("y",40).style("text-anchor","middle").style("fill","currentColor").attr("class","axis-label").text("Jahr"),_.append("text").attr("transform","rotate(-90)").attr("y",-60).attr("x",-t/2).style("text-anchor","middle").style("fill","currentColor").attr("class","axis-label").text("Produktion (1000 t)"),h.value.append("g").attr("class","grid").attr("transform",`translate(0,${t})`).call(d(g).tickSize(-t).tickFormat("")).style("stroke-dasharray","3,3").style("opacity",.3),h.value.append("g").attr("class","grid").call(w(f).tickSize(-e).tickFormat("")).style("stroke-dasharray","3,3").style("opacity",.3),M.value&&a.length>0){const e=a.filter(e=>null!=e.confidence_lower&&null!=e.confidence_upper&&e.confidence_upper>e.confidence_lower&&null!=e.predicted_value&&e.predicted_value>0).map(R);e.length>0&&h.value.append("path").datum(e).attr("fill","#60a5fa").attr("fill-opacity",.2).attr("d",k)}if(r.length>0&&(h.value.append("path").datum(r).attr("fill","none").attr("stroke","#10b981").attr("stroke-width",2).attr("d",v),h.value.selectAll(".hist-dot").data(r).enter().append("circle").attr("class","hist-dot").attr("cx",e=>g(e.year)).attr("cy",e=>f(e.predicted_value||e.value)).attr("r",4).attr("fill","#10b981")),a.length>0){const e=r[r.length-1],t=e?[{...e,predicted_value:e.value},...a]:a;h.value.append("path").datum(t).attr("fill","none").attr("stroke","#3b82f6").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("d",v),h.value.selectAll(".pred-dot").data(a).enter().append("circle").attr("class","pred-dot").attr("cx",e=>g(e.year)).attr("cy",e=>f(e.predicted_value||e.value)).attr("r",4).attr("fill","#3b82f6").style("cursor","pointer").on("click",(e,t)=>{i("prediction-select",t)}).on("mouseenter",function(e,t){var a;s(this).attr("r",6);const r=z.value,n=s("body").append("div").attr("class","ml-chart-tooltip").style("position","absolute").style("background",r?"rgba(31, 41, 55, 0.95)":"rgba(255, 255, 255, 0.95)").style("color",r?"#f9fafb":"#111827").style("padding","10px 12px").style("border-radius","8px").style("font-size","12px").style("font-weight","500").style("line-height","1.5").style("box-shadow",r?"0 10px 25px rgba(0, 0, 0, 0.5)":"0 10px 25px rgba(0, 0, 0, 0.15)").style("border",r?"1px solid rgba(75, 85, 99, 0.3)":"1px solid rgba(209, 213, 219, 0.3)").style("backdrop-filter","blur(10px)").style("pointer-events","none").style("z-index","1000").style("opacity",0),i=R(t);n.html(`\n          <strong>Jahr ${t.year}</strong><br/>\n          Prognose: ${u(",.0f")(i.predicted_value)}<br/>\n          Konfidenz: ${u(",.0f")(i.confidence_lower)} - ${u(",.0f")(i.confidence_upper)}<br/>\n          Unsicherheit: ${(null==(a=t.uncertainty_percent)?void 0:a.toFixed(1))||"N/A"}%\n        `).style("left",e.pageX+10+"px").style("top",e.pageY-10+"px").transition().duration(200).style("opacity",1)}).on("mouseleave",function(){s(this).attr("r",4),S(".ml-chart-tooltip").remove()})}const T=h.value.append("g").attr("transform",`translate(${e-120}, 20)`);T.append("rect").attr("x",-10).attr("y",-10).attr("width",140).attr("height",70).attr("rx",4).attr("class","legend-background");[{label:"Historisch",color:"#10b981",dash:!1},{label:"Prognose",color:"#3b82f6",dash:!0},{label:"Konfidenzintervall",color:"#60a5fa",dash:!1,area:!0}].forEach((e,t)=>{const a=T.append("g").attr("transform",`translate(0, ${20*t})`);e.area?a.append("rect").attr("width",15).attr("height",10).attr("class","legend-area-indicator").attr("fill",e.color).attr("fill-opacity",.2):a.append("line").attr("x1",0).attr("x2",15).attr("y1",5).attr("y2",5).attr("class","legend-line "+(e.dash?"legend-line-dashed":"legend-line-solid")).attr("stroke",e.color).attr("stroke-width",2).attr("stroke-dasharray",e.dash?"5,5":null),a.append("text").attr("x",20).attr("y",5).attr("dy","0.35em").attr("class","legend-text").text(e.label)});const E=h.value.append("g").attr("transform","translate(20, 20)").style("cursor","pointer").on("click",()=>{M.value=!M.value,i("confidence-toggle",M.value),P()});E.append("rect").attr("width",140).attr("height",25).attr("rx",4).attr("class","confidence-toggle "+(M.value?"confidence-toggle-active":"confidence-toggle-inactive")),E.append("text").attr("x",70).attr("y",12.5).attr("text-anchor","middle").attr("dy","0.35em").attr("class","confidence-toggle-text "+(M.value?"confidence-toggle-text-active":"confidence-toggle-text-inactive")).text("Konfidenzintervall")};N(v,e=>{e&&T()}),N(()=>n.data,()=>{v.value&&P()},{deep:!0}),N(()=>n.config,()=>{v.value&&T()},{deep:!0}),N(()=>o.isDarkMode,()=>{v.value&&P()}),I(()=>{v.value&&T(),l.value&&ResizeObserver&&(g=new ResizeObserver(e=>{setTimeout(()=>{v.value&&T()},100)}),g.observe(l.value))}),U(()=>{g&&(g.disconnect(),g=null)});const $={props:n,emit:i,uiStore:o,containerRef:l,svgRef:y,gRef:h,get resizeObserver(){return g},set resizeObserver(e){g=e},dimensions:f,isReady:v,createSVG:k,updateDimensions:_,showConfidenceInterval:M,isDarkMode:z,correctConfidenceInterval:R,chartDimensions:L,processedData:B,initChart:T,drawChart:P,ref:E,computed:D,watch:N,onMounted:I,onUnmounted:U,get d3(){return A},get useD3(){return ee},get useUIStore(){return t}};return Object.defineProperty($,"__isScriptSetup",{enumerable:!1,value:!0}),$}},[["render",function(e,t,a,r,n,s){return G(),F("div",{ref:"containerRef",class:"ml-chart w-full",style:Z({height:r.chartDimensions.height+"px"})},null,4)}],["__scopeId","data-v-0d1ffb49"],["__file","MLChart.vue"]]),Le={ref:"containerRef",class:"chart-container relative w-full h-full flex flex-col bg-white dark:bg-gray-800 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700"},Be={key:1,class:"absolute inset-0 bg-error-50 dark:bg-error-900/20 flex items-center justify-center z-10"},Te={class:"text-center"},Pe={class:"text-error-600 dark:text-error-400 mb-3"},Ee={class:"p-4 border-b border-gray-200 dark:border-gray-700"},De={class:"flex items-center justify-between mb-4"},Ne={class:"text-sm text-gray-600 dark:text-gray-400"},Ie={class:"flex gap-2"},$e={ref:"svgContainerRef",class:"chart-svg-container flex-1 bg-gray-50 dark:bg-gray-900"},Ue={class:"absolute bottom-4 left-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 shadow-sm max-w-xs"},Fe={class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},Ge={class:"text-xs text-gray-600 dark:text-gray-400"};const Oe=Q(P({__name:"StructuralChart",props:{data:{},width:{default:800},height:{default:600},analysisType:{default:"network"},selectedRegion:{default:"global"}},emits:["analysisChange","nodeClick"],setup(t,{expose:i,emit:o}){const l=t,c=o,d=e(),u=a(),p=E(),y=E(),h=E(!1),m=E(null),g=E(!1),f=D(()=>({top:20,right:20,bottom:20,left:20})),v=te(y,{margin:f.value,responsive:!0,autoResize:!0}),x=ae({className:"structural-tooltip chart-tooltip",followMouse:!0}),b=D(()=>({nodeColor:"#27ae60",linkColor:"#6b7280",highlightColor:"#ef4444",...u.getVisualizationConfig("structural")})),k=[{id:"network",name:"Netzwerk",description:"Handelsbeziehungen zwischen Ländern"},{id:"hierarchy",name:"Hierarchie",description:"Strukturelle Abhängigkeiten"},{id:"flow",name:"Fluss",description:"Handelsströme und -richtungen"}],w=async()=>{if(v.isReady.value&&!g.value)try{h.value=!0,m.value=null,await A(),g.value=!0}catch(e){m.value="Fehler beim Initialisieren der Strukturanalyse"}finally{h.value=!1}},C=async()=>{if(v.isReady.value&&g.value)try{await A()}catch(e){}},A=()=>{var e;if(!y.value)return;const{width:t,height:a}=v.dimensions.value,r=y.value.getBoundingClientRect(),n=r.width||t,i=r.height||a||600,{svg:o,g:d}=v.createSVG({width:n,height:i,className:"structural-svg",margin:f.value});if(!o||!d)return;const p=(n-f.value.left-f.value.right)/2,h=(i-f.value.top-f.value.bottom)/2;if("network"===l.analysisType&&l.data){const e=l.data.nodes||[],t=l.data.links||[],a=e.sort((e,t)=>(t.total_trade_volume||0)-(e.total_trade_volume||0)).slice(0,50).map(e=>({...e})),r=new Set(a.map(e=>e.id)),o=t.filter(e=>r.has(e.source)&&r.has(e.target)).slice(0,100).map(e=>({...e}));a.forEach((e,t)=>{e.x=p+(Math.random()-.5)*(.8*n),e.y=h+(Math.random()-.5)*(.8*i)});const u=_(a).force("link",M(o).id(e=>e.id).distance(120).strength(.5)).force("charge",z().strength(-800).distanceMax(300)).force("center",R(p,h).strength(.05)).force("collision",L().radius(e=>Math.sqrt(e.total_trade_volume/2e4)+12)).alpha(1).alphaDecay(.02).velocityDecay(.4),y=d.selectAll(".link").data(o).enter().append("line").attr("class","link").attr("stroke","#6b7280").attr("stroke-opacity",.4).attr("stroke-width",1).attr("x1",e=>e.source.x||p).attr("y1",e=>e.source.y||h).attr("x2",e=>e.target.x||p).attr("y2",e=>e.target.y||h),m=d.selectAll(".node").data(a).enter().append("g").attr("class","node").style("cursor","pointer").on("click",(e,t)=>c("nodeClick",t));m.append("circle").attr("r",0).attr("fill","#27ae60").attr("stroke","#ffffff").attr("stroke-width",2).transition().duration(500).delay((e,t)=>10*t).attr("r",e=>Math.max(Math.sqrt(e.total_trade_volume/2e4)+4,6)),m.attr("transform",e=>`translate(${e.x},${e.y})`),m.filter(e=>e.total_trade_volume>5e4).append("text").text(e=>e.id.length>12?e.id.substring(0,12)+"...":e.id).attr("x",0).attr("y",-15).attr("text-anchor","middle").style("font-size","11px").style("fill","#1a6e41").style("font-weight","600").style("pointer-events","none"),m.on("mouseover",(e,t)=>{var a;x.show({content:`\n          <strong>${t.id}</strong><br>\n          Trade Volume: ${(null==(a=t.total_trade_volume)?void 0:a.toLocaleString())||"N/A"}\n        `,event:e})}).on("mouseout",()=>x.hide());let g=0;u.on("tick",()=>{g++,y.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),m.attr("transform",e=>`translate(${e.x},${e.y})`),(u.alpha()<.005||g>1e3)&&u.stop()});const f=B().on("start",(e,t)=>{e.active||u.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y,s(e.sourceEvent.target).transition().duration(100).attr("r",e=>1.2*Math.max(Math.sqrt(e.total_trade_volume/2e4)+4,6))}).on("drag",(e,t)=>{t.fx=e.x,t.fy=e.y}).on("end",(e,t)=>{e.active||u.alphaTarget(0),setTimeout(()=>{t.fx=null,t.fy=null},100),s(e.sourceEvent.target).transition().duration(200).attr("r",e=>Math.max(Math.sqrt(e.total_trade_volume/2e4)+4,6))});m.call(f)}else if("network"===l.analysisType){const e=Array.from({length:20},(e,t)=>({id:t,x:p+100*Math.cos(.314*t),y:h+100*Math.sin(.314*t),radius:10*Math.random()+5}));d.selectAll(".node").data(e).enter().append("circle").attr("class","node").attr("cx",e=>e.x).attr("cy",e=>e.y).attr("r",e=>e.radius).attr("fill",b.value.nodeColor).attr("stroke",b.value.linkColor).attr("stroke-width",1).style("cursor","pointer")}d.append("text").attr("class","chart-title").attr("x",p).attr("y",30).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").style("fill","currentColor").text(`${null==(e=k.find(e=>e.id===l.analysisType))?void 0:e.name}-Analyse`),u.setChartInstance("structural",o.node())},S=e=>{c("analysisChange",e),v.isReady.value&&w()};N(()=>v.isReady.value,e=>{e&&w()}),N(()=>l.analysisType,()=>{g.value&&C()}),N(()=>l.data,()=>{g.value&&C()},{deep:!0}),N(()=>v.isDestroyed.value,e=>{e&&(x.destroy(),u.removeChartInstance("structural"))}),i({changeAnalysisType:S});const T={props:l,emit:c,dataStore:d,vizStore:u,containerRef:p,svgContainerRef:y,isLoading:h,error:m,isInitialized:g,margin:f,visualization:v,tooltip:x,chartConfig:b,analysisTypes:k,initializeChart:w,updateChart:C,setupChart:A,changeAnalysisType:S,BaseButton:n,LoadingSpinner:r};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),[["render",function(e,t,a,r,n,s){var i,o,l;return G(),F("div",Le,[r.isLoading?(G(),O(r.LoadingSpinner,{key:0,overlay:!0,centered:!0,text:"Lädt Strukturanalyse...",size:"md"})):K("",!0),r.error?(G(),F("div",Be,[j("div",Te,[j("p",Pe,H(r.error),1),V(r.BaseButton,{onClick:r.initializeChart,variant:"danger",size:"sm"},{default:Y(()=>t[0]||(t[0]=[q(" Erneut versuchen ")])),_:1,__:[0]})])])):K("",!0),j("div",Ee,[j("div",De,[j("div",null,[t[1]||(t[1]=j("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Strukturanalyse ",-1)),j("p",Ne,H(null==(i=r.analysisTypes.find(e=>e.id===r.props.analysisType))?void 0:i.description),1)])]),j("div",Ie,[(G(),F(J,null,X(r.analysisTypes,e=>V(r.BaseButton,{key:e.id,variant:r.props.analysisType===e.id?"primary":"outline-primary",size:"sm",onClick:t=>r.changeAnalysisType(e.id)},{default:Y(()=>[q(H(e.name),1)]),_:2},1032,["variant","onClick"])),64))])]),j("div",$e,null,512),j("div",Ue,[j("h4",Fe,H(null==(o=r.analysisTypes.find(e=>e.id===r.props.analysisType))?void 0:o.name)+"-Analyse ",1),j("p",Ge,H(null==(l=r.analysisTypes.find(e=>e.id===r.props.analysisType))?void 0:l.description),1)])],512)}],["__scopeId","data-v-0eeb9783"],["__file","StructuralChart.vue"]]),Ke={ref:"containerRef",class:"chart-container relative w-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700"},je={key:1,class:"absolute inset-0 bg-error-50 dark:bg-error-900/20 flex items-center justify-center z-10"},Ve={class:"text-center"},He={class:"text-error-600 dark:text-error-400 mb-3"},Ye={class:"p-4 border-b border-gray-200 dark:border-gray-700"},qe={class:"flex items-center justify-between mb-4"},We={class:"text-sm text-gray-600 dark:text-gray-400"},Ze={class:"flex items-center justify-between"},Je={class:"flex space-x-2"},Xe={class:"flex space-x-2"},Qe={key:0,class:"mt-4"},et={class:"absolute bottom-4 right-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 shadow-sm max-w-xs"},tt={class:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"},at={class:"text-xs text-gray-600 dark:text-gray-400"};const rt=Q(P({__name:"ProcessChart",props:{width:{default:800},height:{default:500},processType:{default:"production"},timeRange:{default:"yearly"}},emits:["processChange","timeRangeChange","processStep"],setup(t,{expose:i,emit:o}){const l=t,c=o,d=e(),u=a(),p=E(),y=E(!1),h=E(null),m=E(!1),g=D(()=>({top:40,right:40,bottom:40,left:40})),f=te(p,{margin:g.value,responsive:!0,autoResize:!0}),v=ae({className:"process-tooltip chart-tooltip",followMouse:!0}),x=D(()=>({primaryColor:u.getColorScheme("process")[0]||"#3b82f6",secondaryColor:u.getColorScheme("process")[1]||"#10b981",accentColor:u.getColorScheme("process")[2]||"#f59e0b",...u.getVisualizationConfig("process")})),b=async()=>{if(f.isReady.value)try{y.value=!0,h.value=null,f.queueUpdate(k,null,!0)}catch(e){h.value="Fehler beim Initialisieren der Prozessanalyse"}finally{y.value=!1}},k=e=>{const{width:t,height:a}=f.dimensions.value,r=t-g.value.left-g.value.right,n=a-g.value.top-g.value.bottom,{svg:s,g:i}=f.createSVG({width:t,height:a,className:"process-svg",margin:g.value});"production"===l.processType?w(i,r,n):"supply_chain"===l.processType?C(i,r,n):"consumption"===l.processType&&A(i,r,n),u.setChartInstance("process",s.node())},w=(e,t,a)=>{const r=[{name:"Planung",x:.15*t,y:.5*a},{name:"Anbau",x:.35*t,y:.3*a},{name:"Ernte",x:.55*t,y:.3*a},{name:"Verarbeitung",x:.75*t,y:.5*a},{name:"Distribution",x:.85*t,y:.7*a}];for(let n=0;n<r.length-1;n++)e.append("line").attr("x1",r[n].x).attr("y1",r[n].y).attr("x2",r[n+1].x).attr("y2",r[n+1].y).attr("stroke",x.value.secondaryColor).attr("stroke-width",2).attr("marker-end","url(#arrow)");e.selectAll(".process-step").data(r).enter().append("g").attr("class","process-step").attr("transform",e=>`translate(${e.x}, ${e.y})`).each(function(e){const t=s(this);t.append("circle").attr("r",25).attr("fill",x.value.primaryColor).attr("stroke","white").attr("stroke-width",2).style("cursor","pointer"),t.append("text").attr("text-anchor","middle").attr("dy","0.35em").style("fill","white").style("font-size","10px").style("font-weight","bold").text(e.name)}),e.append("defs").append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",8).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill",x.value.secondaryColor)},C=(e,t,a)=>{const r=[{name:"Lieferant",x:.1*t,y:.3*a,type:"supplier"},{name:"Produzent",x:.4*t,y:.5*a,type:"producer"},{name:"Händler",x:.7*t,y:.3*a,type:"distributor"},{name:"Verbraucher",x:.9*t,y:.7*a,type:"consumer"}];e.selectAll(".supply-node").data(r).enter().append("g").attr("class","supply-node").attr("transform",e=>`translate(${e.x}, ${e.y})`).each(function(e){const t=s(this);t.append("rect").attr("x",-30).attr("y",-15).attr("width",60).attr("height",30).attr("rx",5).attr("fill",x.value.accentColor).attr("stroke","white").attr("stroke-width",2),t.append("text").attr("text-anchor","middle").attr("dy","0.35em").style("fill","white").style("font-size","10px").style("font-weight","bold").text(e.name)})},A=(e,t,a)=>{const r=t/2,n=a/2,i=.3*Math.min(t,a),o=[{category:"Haushalte",value:40,angle:0},{category:"Industrie",value:30,angle:.8*Math.PI},{category:"Export",value:20,angle:1.4*Math.PI},{category:"Verluste",value:10,angle:1.8*Math.PI}],l=T().domain(o.map(e=>e.category)).range([x.value.primaryColor,x.value.secondaryColor,x.value.accentColor,"#ef4444"]);e.selectAll(".consumption-sector").data(o).enter().append("g").attr("class","consumption-sector").attr("transform",`translate(${r}, ${n})`).each(function(e){const t=s(this),a=i*(e.value/50);t.append("circle").attr("cx",Math.cos(e.angle)*i*.7).attr("cy",Math.sin(e.angle)*i*.7).attr("r",a).attr("fill",l(e.category)).attr("opacity",.8),t.append("text").attr("x",Math.cos(e.angle)*i*.7).attr("y",Math.sin(e.angle)*i*.7).attr("text-anchor","middle").attr("dy","0.35em").style("fill","white").style("font-size","10px").style("font-weight","bold").text(`${e.category}\n${e.value}%`)})},S=async()=>{m.value||(m.value=!0,setTimeout(()=>{m.value=!1,c("processStep",{type:l.processType,timeRange:l.timeRange,completed:!0})},2e3))},_=e=>{c("processChange",e),f.isReady.value&&b()},M=e=>{c("timeRangeChange",e)};N(()=>f.isReady.value,e=>{e&&b()}),N(()=>l.processType,()=>{f.isReady.value&&b()}),N(()=>f.isDestroyed.value,e=>{e&&(v.destroy(),u.removeChartInstance("process"))}),i({startAnalysis:S,changeProcessType:_,changeTimeRange:M});const z={props:l,emit:c,dataStore:d,vizStore:u,containerRef:p,isLoading:y,error:h,isAnalyzing:m,margin:g,visualization:f,tooltip:v,chartConfig:x,processTypes:[{id:"production",name:"Produktion",description:"Produktionsprozesse und -effizienz"},{id:"supply_chain",name:"Lieferkette",description:"Supply-Chain-Optimierung"},{id:"consumption",name:"Verbrauch",description:"Verbrauchsmuster und -trends"}],timeRanges:[{id:"monthly",name:"Monatlich",description:"Monatliche Prozessanalyse"},{id:"yearly",name:"Jährlich",description:"Jährliche Prozessanalyse"}],initializeChart:b,setupChart:k,createProductionFlow:w,createSupplyChainFlow:C,createConsumptionFlow:A,startAnalysis:S,changeProcessType:_,changeTimeRange:M,BaseButton:n,LoadingSpinner:r};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}}),[["render",function(e,t,a,r,n,s){var i,o,l;return G(),F("div",Ke,[r.isLoading?(G(),O(r.LoadingSpinner,{key:0,overlay:!0,centered:!0,text:"Lädt Prozessanalyse...",size:"md"})):K("",!0),r.error?(G(),F("div",je,[j("div",Ve,[j("p",He,H(r.error),1),V(r.BaseButton,{onClick:r.initializeChart,variant:"danger",size:"sm"},{default:Y(()=>t[0]||(t[0]=[q(" Erneut versuchen ")])),_:1,__:[0]})])])):K("",!0),j("div",Ye,[j("div",qe,[j("div",null,[t[1]||(t[1]=j("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Process Mining ",-1)),j("p",We,H(null==(i=r.processTypes.find(e=>e.id===r.props.processType))?void 0:i.description),1)]),V(r.BaseButton,{onClick:r.startAnalysis,disabled:r.isAnalyzing,variant:"primary",size:"sm"},{default:Y(()=>[q(H(r.isAnalyzing?"Analysiert...":"Analyse starten"),1)]),_:1},8,["disabled"])]),j("div",Ze,[j("div",Je,[(G(),F(J,null,X(r.processTypes,e=>V(r.BaseButton,{key:e.id,variant:r.props.processType===e.id?"primary":"secondary",size:"sm",onClick:t=>r.changeProcessType(e.id)},{default:Y(()=>[q(H(e.name),1)]),_:2},1032,["variant","onClick"])),64))]),j("div",Xe,[(G(),F(J,null,X(r.timeRanges,e=>V(r.BaseButton,{key:e.id,variant:r.props.timeRange===e.id?"primary":"secondary",size:"sm",onClick:t=>r.changeTimeRange(e.id)},{default:Y(()=>[q(H(e.name),1)]),_:2},1032,["variant","onClick"])),64))])]),r.isAnalyzing?(G(),F("div",Qe,t[2]||(t[2]=[j("div",{class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-2"},[j("span",null,"Prozessanalyse läuft..."),j("span",null,"Mining Patterns...")],-1),j("div",{class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},[j("div",{class:"bg-primary-500 h-2 rounded-full animate-pulse w-full"})],-1)]))):K("",!0)]),t[3]||(t[3]=j("div",{class:"p-4 min-h-[400px]"},null,-1)),j("div",et,[j("h4",tt,H(null==(o=r.processTypes.find(e=>e.id===r.props.processType))?void 0:o.name)+"-Mining ",1),j("p",at,H(null==(l=r.timeRanges.find(e=>e.id===r.props.timeRange))?void 0:l.description),1)])],512)}],["__file","ProcessChart.vue"]]);export{Re as M,rt as P,ze as S,be as T,de as W,Oe as a};
//# sourceMappingURL=visualizations-BgLsdJQH.js.map

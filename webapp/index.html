<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAO Lebensmitteldaten-Analyse</title>
    <link rel="stylesheet" href="css/styles.css?v=1.1">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>FAO Lebensmitteldaten-Analyse</h1>
            <p>Interaktive Analyse der globalen Ernährungssicherheit (2010-2022)</p>
        </header>

        <nav class="navigation">
            <button class="nav-btn active" data-section="dashboard" aria-label="Dashboard">Dashboard</button>
            <button class="nav-btn" data-section="worldmap" aria-label="Weltkarte">Weltkarte</button>
            <button class="nav-btn" data-section="timeseries" aria-label="Zeitreihen">Zeitreihen</button>
            <button class="nav-btn" data-section="simulation" aria-label="Simulation">Simulation</button>
            <button class="nav-btn" data-section="ml-predictions" aria-label="ML-Prognosen">ML-Prognosen</button>
            <button class="nav-btn" data-section="structural-analysis" aria-label="Strukturanalyse">Strukturanalyse</button>
            <button class="nav-btn" data-section="process-mining" aria-label="Process Mining">Process Mining</button>
        </nav>

        <main>
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <h2>Dashboard</h2>
                <div class="dashboard-grid">
                    <div id="overview-card" class="card">
                        <h3>Übersicht</h3>
                        <div id="overview-stats"></div>
                    </div>
                    <div id="trends-card" class="card">
                        <h3>Globale Trends</h3>
                        <div id="global-trends"></div>
                    </div>
                    <div id="political-card" class="card">
                        <h3>Politische Ereignisse</h3>
                        <div id="political-events"></div>
                    </div>
                    <div id="climate-card" class="card">
                        <h3>Klimaauswirkungen</h3>
                        <div id="climate-impacts"></div>
                    </div>
                </div>
            </section>

            <!-- Worldmap Section -->
            <section id="worldmap" class="section">
                <h2>Interaktive Weltkarte</h2>
                <div class="controls">
                    <div class="control-group">
                        <label for="product-select">Produkt:</label>
                        <select id="product-select">
                            <option value="wheat_and_products">Weizen und Produkte</option>
                            <option value="rice_and_products">Reis und Produkte</option>
                            <option value="maize_and_products">Mais und Produkte</option>
                            <option value="meat_total">Fleisch (gesamt)</option>
                            <option value="milk_-_excluding_butter">Milch (ohne Butter)</option>
                            <option value="fruits_-_excluding_wine">Früchte (ohne Wein)</option>
                            <option value="vegetables">Gemüse</option>
                            <option value="sugar_and_sweeteners">Zucker & Süßstoffe</option>
                            <option value="pulses">Hülsenfrüchte</option>
                            <option value="potatoes_and_products">Kartoffeln und Produkte</option>
                            <option value="cassava_and_products">Cassava und Produkte</option>
                            <option value="nuts_and_products">Nüsse und Produkte</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="year-slider">Jahr: <span id="year-display">2010</span></label>
                        <input type="range" id="year-slider" min="2010" max="2022" value="2010" step="1">
                    </div>
                    <div class="control-group">
                        <label for="metric-select">Metrik:</label>
                        <select id="metric-select">
                            <option value="production">Produktion</option>
                            <option value="food_supply_quantity_kg_capita_yr">Versorgung (kg/Kopf/Jahr)</option>
                            <option value="food_supply_kcal_capita_day">Versorgung (kcal/Kopf/Tag)</option>
                        </select>
                    </div>
                </div>
                <div class="export-container">
                    <select id="export-format-worldmap" class="export-select" aria-label="Export-Format">
                        <option value="svg">SVG</option>
                        <option value="png">PNG</option>
                    </select>
                    <button id="export-btn-worldmap" class="export-btn" aria-label="Karte exportieren">Export</button>
                </div>
                <div class="map-container">
                    <div id="world-map"></div>
                    <div class="legend" id="map-legend"></div>
                </div>
                <div class="tooltip" id="map-tooltip"></div>
            </section>

            <!-- Timeseries Section -->
            <section id="timeseries" class="section">
                <h2>Zeitreihenanalyse</h2>
                <div class="controls">
                    <div class="control-group">
                        <label for="ts-product-select">Produkt:</label>
                        <select id="ts-product-select">
                            <option value="wheat_and_products">Weizen und Produkte</option>
                            <option value="rice_and_products">Reis und Produkte</option>
                            <option value="maize_and_products">Mais und Produkte</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="ts-countries-select">Länder:</label>
                        <select id="ts-countries-select" multiple>
                            <option value="China">China</option>
                            <option value="United States of America">USA</option>
                            <option value="India">Indien</option>
                            <option value="Russian Federation">Russland</option>
                            <option value="Germany">Deutschland</option>
                            <option value="France">Frankreich</option>
                        </select>
                    </div>
                </div>
                <div class="export-container">
                    <select id="export-format-timeseries" class="export-select" aria-label="Export-Format">
                        <option value="svg">SVG</option>
                        <option value="png">PNG</option>
                    </select>
                    <button id="export-btn-timeseries" class="export-btn" aria-label="Diagramm exportieren">Export</button>
                </div>
                <div id="timeseries-chart"></div>
            </section>

            <!-- Simulation Section -->
            <section id="simulation" class="section">
                <h2>Zukunftssimulation</h2>
                <div class="controls">
                    <div class="control-group">
                        <label for="sim-scenario">Szenario:</label>
                        <select id="sim-scenario">
                            <option value="baseline">Baseline</option>
                            <option value="climate_change">Klimawandel</option>
                            <option value="population_growth">Bevölkerungswachstum</option>
                            <option value="conflict">Konflikt-Szenario</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="sim-years">Prognosejahre:</label>
                        <input type="range" id="sim-years" min="1" max="10" value="5" step="1">
                        <span id="sim-years-display">5</span>
                    </div>
                </div>
                <div id="simulation-results"></div>
            </section>

            <!-- ML Predictions Section -->
            <section id="ml-predictions" class="section">
                <h2>Machine Learning Prognosen</h2>
                <div class="controls">
                    <div class="control-group">
                        <label for="ml-product-select">Produkt:</label>
                        <select id="ml-product-select">
                            <option value="wheat_and_products">Weizen und Produkte</option>
                            <option value="rice_and_products">Reis und Produkte</option>
                            <option value="maize_and_products">Mais und Produkte</option>
                        </select>
                    </div>
                </div>
                <div class="export-container">
                    <select id="export-format-ml" class="export-select" aria-label="Export-Format">
                        <option value="svg">SVG</option>
                        <option value="png">PNG</option>
                    </select>
                    <button id="export-btn-ml" class="export-btn" aria-label="ML-Diagramm exportieren">Export</button>
                </div>
                <div id="ml-chart"></div>
                <div class="ml-info">
                    <h3>Modell-Information</h3>
                    <div id="ml-model-info"></div>
                </div>
            </section>

            <!-- Structural Analysis Section -->
            <section id="structural-analysis" class="section">
                <h2>Strukturanalyse</h2>
                <div class="controls">
                    <div class="control-group">
                        <label for="struct-analysis-type">Analyse-Typ:</label>
                        <select id="struct-analysis-type">
                            <option value="correlation">Korrelationsanalyse</option>
                            <option value="network">Netzwerkanalyse</option>
                            <option value="clustering">Clustering</option>
                        </select>
                    </div>
                </div>
                <div class="export-container">
                    <select id="export-format-struct" class="export-select" aria-label="Export-Format">
                        <option value="svg">SVG</option>
                        <option value="png">PNG</option>
                    </select>
                    <button id="export-btn-struct" class="export-btn" aria-label="Strukturanalyse exportieren">Export</button>
                </div>
                <div id="structural-analysis-chart"></div>
            </section>

            <!-- Process Mining Section -->
            <section id="process-mining" class="section">
                <h2>Process Mining</h2>
                <div class="controls">
                    <div class="control-group">
                        <label for="process-type">Prozess-Typ:</label>
                        <select id="process-type">
                            <option value="supply_chain">Lieferkette</option>
                            <option value="production_flow">Produktionsfluss</option>
                            <option value="trade_patterns">Handelsmuster</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="process-product-select">Produkt:</label>
                        <select id="process-product-select">
                            <option value="wheat_and_products">Weizen und Produkte</option>
                            <option value="rice_and_products">Reis und Produkte</option>
                            <option value="maize_and_products">Mais und Produkte</option>
                            <option value="milk_-_excluding_butter">Milch (ohne Butter)</option>
                            <option value="fruits_-_excluding_wine">Früchte (ohne Wein)</option>
                            <option value="vegetables">Gemüse</option>
                            <option value="sugar_and_sweeteners">Zucker & Süßstoffe</option>
                            <option value="pulses">Hülsenfrüchte</option>
                            <option value="potatoes_and_products">Kartoffeln und Produkte</option>
                            <option value="cassava_and_products">Cassava und Produkte</option>
                            <option value="nuts_and_products">Nüsse und Produkte</option>
                        </select>
                    </div>
                </div>
                <div class="export-container">
                    <select id="export-format-process" class="export-select" aria-label="Export-Format">
                        <option value="svg">SVG</option>
                        <option value="png">PNG</option>
                    </select>
                    <button id="export-btn-process" class="export-btn" aria-label="Diagramm exportieren">Export</button>
                </div>
                <div id="process-mining-chart"></div>
            </section>
        </main>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/country-mapping.js"></script>
    <script src="js/main.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/worldmap.js"></script>
    <script src="js/timeseries.js"></script>
    <script src="js/simulation.js"></script>
    <script src="js/ml-predictions.js"></script>
    <script src="js/structural-analysis.js?v=1.1"></script>
    <script src="js/export.js"></script>
    <script src="js/process-mining.js"></script>
</body>
</html>

